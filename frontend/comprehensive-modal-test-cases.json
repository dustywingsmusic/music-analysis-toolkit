{
  "metadata": {
    "generated": "2025-08-02T15:50:05.356Z",
    "totalCases": 712,
    "categories": {
      "modal_characteristic": 208,
      "modal_seventh_variant": 112,
      "modal_vamp": 112,
      "modal_foil": 112,
      "functional_clear": 60,
      "ambiguous": 103,
      "edge_case": 5
    }
  },
  "testCases": [
    {
      "id": "test-1",
      "chords": [
        "C",
        "F",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "C Ionian",
      "description": "C Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-2",
      "chords": [
        "Cmaj7",
        "Fmaj7",
        "Cmaj7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "C Ionian",
      "description": "C Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-3",
      "chords": [
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "C Ionian",
      "description": "C Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-4",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "C Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-5",
      "chords": [
        "Cm",
        "F",
        "Bb",
        "Cm"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "C Dorian",
      "description": "C Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-6",
      "chords": [
        "Cm",
        "F",
        "Cm"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "C Dorian",
      "description": "C Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-7",
      "chords": [
        "Cm7",
        "Fmaj7",
        "Cm7"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "C Dorian",
      "description": "C Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-8",
      "chords": [
        "Cm",
        "F"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "C Dorian",
      "description": "C Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-9",
      "chords": [
        "Cm",
        "Fm",
        "Cm"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "C Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-10",
      "chords": [
        "Cm",
        "F",
        "Bb",
        "Cm"
      ],
      "expectedModal": false,
      "description": "C Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-11",
      "chords": [
        "Cm",
        "Db",
        "Bb",
        "Cm"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "C Phrygian",
      "description": "C Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-12",
      "chords": [
        "Cm",
        "Db",
        "Cm"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "C Phrygian",
      "description": "C Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-13",
      "chords": [
        "Cm7",
        "Db",
        "Cm7"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "C Phrygian",
      "description": "C Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-14",
      "chords": [
        "Cm",
        "Db"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "C Phrygian",
      "description": "C Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-15",
      "chords": [
        "Cm",
        "D",
        "Cm"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "C Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-16",
      "chords": [
        "Cm",
        "Db",
        "Bb",
        "Cm"
      ],
      "expectedModal": false,
      "description": "C Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-17",
      "chords": [
        "C",
        "D",
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "C Lydian",
      "description": "C Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-18",
      "chords": [
        "C",
        "D",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "C Lydian",
      "description": "C Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-19",
      "chords": [
        "Cmaj7",
        "D",
        "Cmaj7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "C Lydian",
      "description": "C Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-20",
      "chords": [
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "C Lydian",
      "description": "C Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-21",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "C Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-22",
      "chords": [
        "C",
        "D",
        "G",
        "C"
      ],
      "expectedModal": false,
      "description": "C Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-23",
      "chords": [
        "C",
        "Bb",
        "F",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "C Mixolydian",
      "description": "C Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-24",
      "chords": [
        "C",
        "Bb",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "C Mixolydian",
      "description": "C Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-25",
      "chords": [
        "C7",
        "F",
        "C7"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "C Mixolydian",
      "description": "C Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-26",
      "chords": [
        "C",
        "F"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "C Mixolydian",
      "description": "C Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-27",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "C Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-28",
      "chords": [
        "C",
        "Bb",
        "F",
        "C"
      ],
      "expectedModal": false,
      "description": "C Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-29",
      "chords": [
        "Cm",
        "Ab",
        "Bb",
        "Cm"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "C Aeolian",
      "description": "C Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-30",
      "chords": [
        "Cm",
        "Bb",
        "Cm"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "C Aeolian",
      "description": "C Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-31",
      "chords": [
        "Cm7",
        "Ab",
        "Bb",
        "Cm7"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "C Aeolian",
      "description": "C Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-32",
      "chords": [
        "Cm",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "C Aeolian",
      "description": "C Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-33",
      "chords": [
        "Cm",
        "G7",
        "Cm"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "C Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-34",
      "chords": [
        "Cm",
        "Ab",
        "Bb",
        "Cm"
      ],
      "expectedModal": false,
      "description": "C Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-35",
      "chords": [
        "Cdim",
        "Db",
        "Gm",
        "Cdim"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "C Locrian",
      "description": "C Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-36",
      "chords": [
        "Cdim",
        "Db",
        "Cdim"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "C Locrian",
      "description": "C Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-37",
      "chords": [
        "Cm7b5",
        "Db",
        "Cm7b5"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "C Locrian",
      "description": "C Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-38",
      "chords": [
        "Cdim",
        "Db"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "C Locrian",
      "description": "C Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-39",
      "chords": [
        "Cdim",
        "G7",
        "Cdim"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "C Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-40",
      "chords": [
        "Cdim",
        "Db",
        "Gm",
        "Cdim"
      ],
      "expectedModal": false,
      "description": "C Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-41",
      "chords": [
        "Db",
        "Gb",
        "Db"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Db Ionian",
      "description": "Db Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-42",
      "chords": [
        "Dbmaj7",
        "Gbmaj7",
        "Dbmaj7"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Db Ionian",
      "description": "Db Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-43",
      "chords": [
        "Db",
        "Gb"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Db Ionian",
      "description": "Db Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-44",
      "chords": [
        "Db",
        "Ab",
        "Db"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Db Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-45",
      "chords": [
        "Dbm",
        "Gb",
        "B",
        "Dbm"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Db Dorian",
      "description": "Db Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-46",
      "chords": [
        "Dbm",
        "Gb",
        "Dbm"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Db Dorian",
      "description": "Db Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-47",
      "chords": [
        "Dbm7",
        "Gbmaj7",
        "Dbm7"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Db Dorian",
      "description": "Db Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-48",
      "chords": [
        "Dbm",
        "Gb"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Db Dorian",
      "description": "Db Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-49",
      "chords": [
        "Dbm",
        "Gbm",
        "Dbm"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "Db Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-50",
      "chords": [
        "Dbm",
        "Gb",
        "B",
        "Dbm"
      ],
      "expectedModal": false,
      "description": "Db Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-51",
      "chords": [
        "Dbm",
        "D",
        "B",
        "Dbm"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "Db Phrygian",
      "description": "Db Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-52",
      "chords": [
        "Dbm",
        "D",
        "Dbm"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "Db Phrygian",
      "description": "Db Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-53",
      "chords": [
        "Dbm7",
        "D",
        "Dbm7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "Db Phrygian",
      "description": "Db Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-54",
      "chords": [
        "Dbm",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "Db Phrygian",
      "description": "Db Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-55",
      "chords": [
        "Dbm",
        "Eb",
        "Dbm"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "Db Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-56",
      "chords": [
        "Dbm",
        "D",
        "B",
        "Dbm"
      ],
      "expectedModal": false,
      "description": "Db Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-57",
      "chords": [
        "Db",
        "Eb",
        "Ab",
        "Db"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Db Lydian",
      "description": "Db Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-58",
      "chords": [
        "Db",
        "Eb",
        "Db"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Db Lydian",
      "description": "Db Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-59",
      "chords": [
        "Dbmaj7",
        "Eb",
        "Dbmaj7"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Db Lydian",
      "description": "Db Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-60",
      "chords": [
        "Db",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Db Lydian",
      "description": "Db Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-61",
      "chords": [
        "Db",
        "Ab",
        "Db"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Db Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-62",
      "chords": [
        "Db",
        "Eb",
        "Ab",
        "Db"
      ],
      "expectedModal": false,
      "description": "Db Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-63",
      "chords": [
        "Db",
        "B",
        "Gb",
        "Db"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Db Mixolydian",
      "description": "Db Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-64",
      "chords": [
        "Db",
        "B",
        "Db"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Db Mixolydian",
      "description": "Db Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-65",
      "chords": [
        "Db7",
        "Gb",
        "Db7"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Db Mixolydian",
      "description": "Db Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-66",
      "chords": [
        "Db",
        "Gb"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Db Mixolydian",
      "description": "Db Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-67",
      "chords": [
        "Db",
        "Ab",
        "Db"
      ],
      "parentKey": "Gb major",
      "expectedModal": false,
      "description": "Db Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-68",
      "chords": [
        "Db",
        "B",
        "Gb",
        "Db"
      ],
      "expectedModal": false,
      "description": "Db Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-69",
      "chords": [
        "Dbm",
        "A",
        "B",
        "Dbm"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Db Aeolian",
      "description": "Db Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-70",
      "chords": [
        "Dbm",
        "B",
        "Dbm"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Db Aeolian",
      "description": "Db Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-71",
      "chords": [
        "Dbm7",
        "A",
        "B",
        "Dbm7"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Db Aeolian",
      "description": "Db Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-72",
      "chords": [
        "Dbm",
        "B"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Db Aeolian",
      "description": "Db Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-73",
      "chords": [
        "Dbm",
        "Ab7",
        "Dbm"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "Db Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-74",
      "chords": [
        "Dbm",
        "A",
        "B",
        "Dbm"
      ],
      "expectedModal": false,
      "description": "Db Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-75",
      "chords": [
        "Dbdim",
        "D",
        "Abm",
        "Dbdim"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "Db Locrian",
      "description": "Db Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-76",
      "chords": [
        "Dbdim",
        "D",
        "Dbdim"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "Db Locrian",
      "description": "Db Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-77",
      "chords": [
        "Dbm7b5",
        "D",
        "Dbm7b5"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "Db Locrian",
      "description": "Db Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-78",
      "chords": [
        "Dbdim",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "Db Locrian",
      "description": "Db Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-79",
      "chords": [
        "Dbdim",
        "Ab7",
        "Dbdim"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "Db Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-80",
      "chords": [
        "Dbdim",
        "D",
        "Abm",
        "Dbdim"
      ],
      "expectedModal": false,
      "description": "Db Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-81",
      "chords": [
        "D",
        "G",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "D Ionian",
      "description": "D Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-82",
      "chords": [
        "Dmaj7",
        "Gmaj7",
        "Dmaj7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "D Ionian",
      "description": "D Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-83",
      "chords": [
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "D Ionian",
      "description": "D Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-84",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "D Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-85",
      "chords": [
        "Dm",
        "G",
        "C",
        "Dm"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "D Dorian",
      "description": "D Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-86",
      "chords": [
        "Dm",
        "G",
        "Dm"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "D Dorian",
      "description": "D Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-87",
      "chords": [
        "Dm7",
        "Gmaj7",
        "Dm7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "D Dorian",
      "description": "D Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-88",
      "chords": [
        "Dm",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "D Dorian",
      "description": "D Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-89",
      "chords": [
        "Dm",
        "Gm",
        "Dm"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "D Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-90",
      "chords": [
        "Dm",
        "G",
        "C",
        "Dm"
      ],
      "expectedModal": false,
      "description": "D Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-91",
      "chords": [
        "Dm",
        "Eb",
        "C",
        "Dm"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "D Phrygian",
      "description": "D Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-92",
      "chords": [
        "Dm",
        "Eb",
        "Dm"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "D Phrygian",
      "description": "D Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-93",
      "chords": [
        "Dm7",
        "Eb",
        "Dm7"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "D Phrygian",
      "description": "D Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-94",
      "chords": [
        "Dm",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "D Phrygian",
      "description": "D Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-95",
      "chords": [
        "Dm",
        "E",
        "Dm"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "D Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-96",
      "chords": [
        "Dm",
        "Eb",
        "C",
        "Dm"
      ],
      "expectedModal": false,
      "description": "D Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-97",
      "chords": [
        "D",
        "E",
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "D Lydian",
      "description": "D Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-98",
      "chords": [
        "D",
        "E",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "D Lydian",
      "description": "D Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-99",
      "chords": [
        "Dmaj7",
        "E",
        "Dmaj7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "D Lydian",
      "description": "D Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-100",
      "chords": [
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "D Lydian",
      "description": "D Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-101",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "D Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-102",
      "chords": [
        "D",
        "E",
        "A",
        "D"
      ],
      "expectedModal": false,
      "description": "D Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-103",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-104",
      "chords": [
        "D",
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-105",
      "chords": [
        "D7",
        "G",
        "D7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-106",
      "chords": [
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-107",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "D Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-108",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "expectedModal": false,
      "description": "D Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-109",
      "chords": [
        "Dm",
        "Bb",
        "C",
        "Dm"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "D Aeolian",
      "description": "D Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-110",
      "chords": [
        "Dm",
        "C",
        "Dm"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "D Aeolian",
      "description": "D Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-111",
      "chords": [
        "Dm7",
        "Bb",
        "C",
        "Dm7"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "D Aeolian",
      "description": "D Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-112",
      "chords": [
        "Dm",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "D Aeolian",
      "description": "D Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-113",
      "chords": [
        "Dm",
        "A7",
        "Dm"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "D Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-114",
      "chords": [
        "Dm",
        "Bb",
        "C",
        "Dm"
      ],
      "expectedModal": false,
      "description": "D Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-115",
      "chords": [
        "Ddim",
        "Eb",
        "Am",
        "Ddim"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "D Locrian",
      "description": "D Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-116",
      "chords": [
        "Ddim",
        "Eb",
        "Ddim"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "D Locrian",
      "description": "D Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-117",
      "chords": [
        "Dm7b5",
        "Eb",
        "Dm7b5"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "D Locrian",
      "description": "D Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-118",
      "chords": [
        "Ddim",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "D Locrian",
      "description": "D Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-119",
      "chords": [
        "Ddim",
        "A7",
        "Ddim"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "D Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-120",
      "chords": [
        "Ddim",
        "Eb",
        "Am",
        "Ddim"
      ],
      "expectedModal": false,
      "description": "D Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-121",
      "chords": [
        "Eb",
        "Ab",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Eb Ionian",
      "description": "Eb Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-122",
      "chords": [
        "Ebmaj7",
        "Abmaj7",
        "Ebmaj7"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Eb Ionian",
      "description": "Eb Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-123",
      "chords": [
        "Eb",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Eb Ionian",
      "description": "Eb Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-124",
      "chords": [
        "Eb",
        "Bb",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "Eb Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-125",
      "chords": [
        "Ebm",
        "Ab",
        "Db",
        "Ebm"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Eb Dorian",
      "description": "Eb Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-126",
      "chords": [
        "Ebm",
        "Ab",
        "Ebm"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Eb Dorian",
      "description": "Eb Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-127",
      "chords": [
        "Ebm7",
        "Abmaj7",
        "Ebm7"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Eb Dorian",
      "description": "Eb Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-128",
      "chords": [
        "Ebm",
        "Ab"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Eb Dorian",
      "description": "Eb Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-129",
      "chords": [
        "Ebm",
        "Abm",
        "Ebm"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Eb Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-130",
      "chords": [
        "Ebm",
        "Ab",
        "Db",
        "Ebm"
      ],
      "expectedModal": false,
      "description": "Eb Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-131",
      "chords": [
        "Ebm",
        "E",
        "Db",
        "Ebm"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Eb Phrygian",
      "description": "Eb Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-132",
      "chords": [
        "Ebm",
        "E",
        "Ebm"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Eb Phrygian",
      "description": "Eb Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-133",
      "chords": [
        "Ebm7",
        "E",
        "Ebm7"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Eb Phrygian",
      "description": "Eb Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-134",
      "chords": [
        "Ebm",
        "E"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Eb Phrygian",
      "description": "Eb Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-135",
      "chords": [
        "Ebm",
        "F",
        "Ebm"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "Eb Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-136",
      "chords": [
        "Ebm",
        "E",
        "Db",
        "Ebm"
      ],
      "expectedModal": false,
      "description": "Eb Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-137",
      "chords": [
        "Eb",
        "F",
        "Bb",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "Eb Lydian",
      "description": "Eb Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-138",
      "chords": [
        "Eb",
        "F",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "Eb Lydian",
      "description": "Eb Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-139",
      "chords": [
        "Ebmaj7",
        "F",
        "Ebmaj7"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "Eb Lydian",
      "description": "Eb Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-140",
      "chords": [
        "Eb",
        "F"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "Eb Lydian",
      "description": "Eb Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-141",
      "chords": [
        "Eb",
        "Bb",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "Eb Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-142",
      "chords": [
        "Eb",
        "F",
        "Bb",
        "Eb"
      ],
      "expectedModal": false,
      "description": "Eb Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-143",
      "chords": [
        "Eb",
        "Db",
        "Ab",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Eb Mixolydian",
      "description": "Eb Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-144",
      "chords": [
        "Eb",
        "Db",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Eb Mixolydian",
      "description": "Eb Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-145",
      "chords": [
        "Eb7",
        "Ab",
        "Eb7"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Eb Mixolydian",
      "description": "Eb Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-146",
      "chords": [
        "Eb",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Eb Mixolydian",
      "description": "Eb Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-147",
      "chords": [
        "Eb",
        "Bb",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Eb Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-148",
      "chords": [
        "Eb",
        "Db",
        "Ab",
        "Eb"
      ],
      "expectedModal": false,
      "description": "Eb Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-149",
      "chords": [
        "Ebm",
        "B",
        "Db",
        "Ebm"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Eb Aeolian",
      "description": "Eb Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-150",
      "chords": [
        "Ebm",
        "Db",
        "Ebm"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Eb Aeolian",
      "description": "Eb Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-151",
      "chords": [
        "Ebm7",
        "B",
        "Db",
        "Ebm7"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Eb Aeolian",
      "description": "Eb Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-152",
      "chords": [
        "Ebm",
        "Db"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Eb Aeolian",
      "description": "Eb Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-153",
      "chords": [
        "Ebm",
        "Bb7",
        "Ebm"
      ],
      "parentKey": "Gb major",
      "expectedModal": false,
      "description": "Eb Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-154",
      "chords": [
        "Ebm",
        "B",
        "Db",
        "Ebm"
      ],
      "expectedModal": false,
      "description": "Eb Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-155",
      "chords": [
        "Ebdim",
        "E",
        "Bbm",
        "Ebdim"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Eb Locrian",
      "description": "Eb Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-156",
      "chords": [
        "Ebdim",
        "E",
        "Ebdim"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Eb Locrian",
      "description": "Eb Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-157",
      "chords": [
        "Ebm7b5",
        "E",
        "Ebm7b5"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Eb Locrian",
      "description": "Eb Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-158",
      "chords": [
        "Ebdim",
        "E"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Eb Locrian",
      "description": "Eb Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-159",
      "chords": [
        "Ebdim",
        "Bb7",
        "Ebdim"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "Eb Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-160",
      "chords": [
        "Ebdim",
        "E",
        "Bbm",
        "Ebdim"
      ],
      "expectedModal": false,
      "description": "Eb Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-161",
      "chords": [
        "E",
        "A",
        "E"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "E Ionian",
      "description": "E Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-162",
      "chords": [
        "Emaj7",
        "Amaj7",
        "Emaj7"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "E Ionian",
      "description": "E Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-163",
      "chords": [
        "E",
        "A"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "E Ionian",
      "description": "E Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-164",
      "chords": [
        "E",
        "B",
        "E"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "E Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-165",
      "chords": [
        "Em",
        "A",
        "D",
        "Em"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "E Dorian",
      "description": "E Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-166",
      "chords": [
        "Em",
        "A",
        "Em"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "E Dorian",
      "description": "E Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-167",
      "chords": [
        "Em7",
        "Amaj7",
        "Em7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "E Dorian",
      "description": "E Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-168",
      "chords": [
        "Em",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "E Dorian",
      "description": "E Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-169",
      "chords": [
        "Em",
        "Am",
        "Em"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "E Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-170",
      "chords": [
        "Em",
        "A",
        "D",
        "Em"
      ],
      "expectedModal": false,
      "description": "E Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-171",
      "chords": [
        "Em",
        "F",
        "D",
        "Em"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "E Phrygian",
      "description": "E Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-172",
      "chords": [
        "Em",
        "F",
        "Em"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "E Phrygian",
      "description": "E Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-173",
      "chords": [
        "Em7",
        "F",
        "Em7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "E Phrygian",
      "description": "E Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-174",
      "chords": [
        "Em",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "E Phrygian",
      "description": "E Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-175",
      "chords": [
        "Em",
        "F#",
        "Em"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "E Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-176",
      "chords": [
        "Em",
        "F",
        "D",
        "Em"
      ],
      "expectedModal": false,
      "description": "E Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-177",
      "chords": [
        "E",
        "F#",
        "B",
        "E"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "E Lydian",
      "description": "E Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-178",
      "chords": [
        "E",
        "F#",
        "E"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "E Lydian",
      "description": "E Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-179",
      "chords": [
        "Emaj7",
        "F#",
        "Emaj7"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "E Lydian",
      "description": "E Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-180",
      "chords": [
        "E",
        "F#"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "E Lydian",
      "description": "E Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-181",
      "chords": [
        "E",
        "B",
        "E"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "E Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-182",
      "chords": [
        "E",
        "F#",
        "B",
        "E"
      ],
      "expectedModal": false,
      "description": "E Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-183",
      "chords": [
        "E",
        "D",
        "A",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "E Mixolydian",
      "description": "E Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-184",
      "chords": [
        "E",
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "E Mixolydian",
      "description": "E Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-185",
      "chords": [
        "E7",
        "A",
        "E7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "E Mixolydian",
      "description": "E Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-186",
      "chords": [
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "E Mixolydian",
      "description": "E Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-187",
      "chords": [
        "E",
        "B",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "E Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-188",
      "chords": [
        "E",
        "D",
        "A",
        "E"
      ],
      "expectedModal": false,
      "description": "E Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-189",
      "chords": [
        "Em",
        "C",
        "D",
        "Em"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "E Aeolian",
      "description": "E Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-190",
      "chords": [
        "Em",
        "D",
        "Em"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "E Aeolian",
      "description": "E Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-191",
      "chords": [
        "Em7",
        "C",
        "D",
        "Em7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "E Aeolian",
      "description": "E Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-192",
      "chords": [
        "Em",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "E Aeolian",
      "description": "E Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-193",
      "chords": [
        "Em",
        "B7",
        "Em"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "E Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-194",
      "chords": [
        "Em",
        "C",
        "D",
        "Em"
      ],
      "expectedModal": false,
      "description": "E Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-195",
      "chords": [
        "Edim",
        "F",
        "Bm",
        "Edim"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "E Locrian",
      "description": "E Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-196",
      "chords": [
        "Edim",
        "F",
        "Edim"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "E Locrian",
      "description": "E Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-197",
      "chords": [
        "Em7b5",
        "F",
        "Em7b5"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "E Locrian",
      "description": "E Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-198",
      "chords": [
        "Edim",
        "F"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "E Locrian",
      "description": "E Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-199",
      "chords": [
        "Edim",
        "B7",
        "Edim"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "E Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-200",
      "chords": [
        "Edim",
        "F",
        "Bm",
        "Edim"
      ],
      "expectedModal": false,
      "description": "E Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-201",
      "chords": [
        "F",
        "Bb",
        "F"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "F Ionian",
      "description": "F Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-202",
      "chords": [
        "Fmaj7",
        "Bbmaj7",
        "Fmaj7"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "F Ionian",
      "description": "F Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-203",
      "chords": [
        "F",
        "Bb"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "F Ionian",
      "description": "F Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-204",
      "chords": [
        "F",
        "C",
        "F"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "F Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-205",
      "chords": [
        "Fm",
        "Bb",
        "Eb",
        "Fm"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "F Dorian",
      "description": "F Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-206",
      "chords": [
        "Fm",
        "Bb",
        "Fm"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "F Dorian",
      "description": "F Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-207",
      "chords": [
        "Fm7",
        "Bbmaj7",
        "Fm7"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "F Dorian",
      "description": "F Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-208",
      "chords": [
        "Fm",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "F Dorian",
      "description": "F Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-209",
      "chords": [
        "Fm",
        "Bbm",
        "Fm"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "F Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-210",
      "chords": [
        "Fm",
        "Bb",
        "Eb",
        "Fm"
      ],
      "expectedModal": false,
      "description": "F Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-211",
      "chords": [
        "Fm",
        "Gb",
        "Eb",
        "Fm"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "F Phrygian",
      "description": "F Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-212",
      "chords": [
        "Fm",
        "Gb",
        "Fm"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "F Phrygian",
      "description": "F Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-213",
      "chords": [
        "Fm7",
        "Gb",
        "Fm7"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "F Phrygian",
      "description": "F Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-214",
      "chords": [
        "Fm",
        "Gb"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "F Phrygian",
      "description": "F Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-215",
      "chords": [
        "Fm",
        "G",
        "Fm"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "F Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-216",
      "chords": [
        "Fm",
        "Gb",
        "Eb",
        "Fm"
      ],
      "expectedModal": false,
      "description": "F Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-217",
      "chords": [
        "F",
        "G",
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "F Lydian",
      "description": "F Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-218",
      "chords": [
        "F",
        "G",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "F Lydian",
      "description": "F Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-219",
      "chords": [
        "Fmaj7",
        "G",
        "Fmaj7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "F Lydian",
      "description": "F Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-220",
      "chords": [
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "F Lydian",
      "description": "F Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-221",
      "chords": [
        "F",
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "F Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-222",
      "chords": [
        "F",
        "G",
        "C",
        "F"
      ],
      "expectedModal": false,
      "description": "F Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-223",
      "chords": [
        "F",
        "Eb",
        "Bb",
        "F"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "F Mixolydian",
      "description": "F Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-224",
      "chords": [
        "F",
        "Eb",
        "F"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "F Mixolydian",
      "description": "F Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-225",
      "chords": [
        "F7",
        "Bb",
        "F7"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "F Mixolydian",
      "description": "F Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-226",
      "chords": [
        "F",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "F Mixolydian",
      "description": "F Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-227",
      "chords": [
        "F",
        "C",
        "F"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "F Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-228",
      "chords": [
        "F",
        "Eb",
        "Bb",
        "F"
      ],
      "expectedModal": false,
      "description": "F Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-229",
      "chords": [
        "Fm",
        "Db",
        "Eb",
        "Fm"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "F Aeolian",
      "description": "F Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-230",
      "chords": [
        "Fm",
        "Eb",
        "Fm"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "F Aeolian",
      "description": "F Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-231",
      "chords": [
        "Fm7",
        "Db",
        "Eb",
        "Fm7"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "F Aeolian",
      "description": "F Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-232",
      "chords": [
        "Fm",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "F Aeolian",
      "description": "F Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-233",
      "chords": [
        "Fm",
        "C7",
        "Fm"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "F Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-234",
      "chords": [
        "Fm",
        "Db",
        "Eb",
        "Fm"
      ],
      "expectedModal": false,
      "description": "F Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-235",
      "chords": [
        "Fdim",
        "Gb",
        "Cm",
        "Fdim"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "F Locrian",
      "description": "F Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-236",
      "chords": [
        "Fdim",
        "Gb",
        "Fdim"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "F Locrian",
      "description": "F Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-237",
      "chords": [
        "Fm7b5",
        "Gb",
        "Fm7b5"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "F Locrian",
      "description": "F Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-238",
      "chords": [
        "Fdim",
        "Gb"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "F Locrian",
      "description": "F Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-239",
      "chords": [
        "Fdim",
        "C7",
        "Fdim"
      ],
      "parentKey": "Gb major",
      "expectedModal": false,
      "description": "F Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-240",
      "chords": [
        "Fdim",
        "Gb",
        "Cm",
        "Fdim"
      ],
      "expectedModal": false,
      "description": "F Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-241",
      "chords": [
        "F#",
        "B",
        "F#"
      ],
      "parentKey": "F# major",
      "expectedModal": true,
      "expectedMode": "F# Ionian",
      "description": "F# Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-242",
      "chords": [
        "F#maj7",
        "Bmaj7",
        "F#maj7"
      ],
      "parentKey": "F# major",
      "expectedModal": true,
      "expectedMode": "F# Ionian",
      "description": "F# Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-243",
      "chords": [
        "F#",
        "B"
      ],
      "parentKey": "F# major",
      "expectedModal": true,
      "expectedMode": "F# Ionian",
      "description": "F# Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-244",
      "chords": [
        "F#",
        "C#",
        "F#"
      ],
      "parentKey": "F# major",
      "expectedModal": false,
      "description": "F# Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-245",
      "chords": [
        "F#m",
        "B",
        "E",
        "F#m"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "F# Dorian",
      "description": "F# Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-246",
      "chords": [
        "F#m",
        "B",
        "F#m"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "F# Dorian",
      "description": "F# Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-247",
      "chords": [
        "F#m7",
        "Bmaj7",
        "F#m7"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "F# Dorian",
      "description": "F# Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-248",
      "chords": [
        "F#m",
        "B"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "F# Dorian",
      "description": "F# Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-249",
      "chords": [
        "F#m",
        "Bm",
        "F#m"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "F# Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-250",
      "chords": [
        "F#m",
        "B",
        "E",
        "F#m"
      ],
      "expectedModal": false,
      "description": "F# Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-251",
      "chords": [
        "F#m",
        "G",
        "E",
        "F#m"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "F# Phrygian",
      "description": "F# Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-252",
      "chords": [
        "F#m",
        "G",
        "F#m"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "F# Phrygian",
      "description": "F# Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-253",
      "chords": [
        "F#m7",
        "G",
        "F#m7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "F# Phrygian",
      "description": "F# Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-254",
      "chords": [
        "F#m",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "F# Phrygian",
      "description": "F# Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-255",
      "chords": [
        "F#m",
        "G#",
        "F#m"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "F# Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-256",
      "chords": [
        "F#m",
        "G",
        "E",
        "F#m"
      ],
      "expectedModal": false,
      "description": "F# Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-257",
      "chords": [
        "F#",
        "Ab",
        "Db",
        "F#"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "F# Lydian",
      "description": "F# Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-258",
      "chords": [
        "F#",
        "Ab",
        "F#"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "F# Lydian",
      "description": "F# Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-259",
      "chords": [
        "F#maj7",
        "Ab",
        "F#maj7"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "F# Lydian",
      "description": "F# Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-260",
      "chords": [
        "F#",
        "Ab"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "F# Lydian",
      "description": "F# Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-261",
      "chords": [
        "F#",
        "Db",
        "F#"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "F# Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-262",
      "chords": [
        "F#",
        "Ab",
        "Db",
        "F#"
      ],
      "expectedModal": false,
      "description": "F# Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-263",
      "chords": [
        "F#",
        "E",
        "B",
        "F#"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "F# Mixolydian",
      "description": "F# Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-264",
      "chords": [
        "F#",
        "E",
        "F#"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "F# Mixolydian",
      "description": "F# Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-265",
      "chords": [
        "F#7",
        "B",
        "F#7"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "F# Mixolydian",
      "description": "F# Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-266",
      "chords": [
        "F#",
        "B"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "F# Mixolydian",
      "description": "F# Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-267",
      "chords": [
        "F#",
        "C#",
        "F#"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "F# Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-268",
      "chords": [
        "F#",
        "E",
        "B",
        "F#"
      ],
      "expectedModal": false,
      "description": "F# Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-269",
      "chords": [
        "F#m",
        "D",
        "E",
        "F#m"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "F# Aeolian",
      "description": "F# Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-270",
      "chords": [
        "F#m",
        "E",
        "F#m"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "F# Aeolian",
      "description": "F# Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-271",
      "chords": [
        "F#m7",
        "D",
        "E",
        "F#m7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "F# Aeolian",
      "description": "F# Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-272",
      "chords": [
        "F#m",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "F# Aeolian",
      "description": "F# Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-273",
      "chords": [
        "F#m",
        "C#7",
        "F#m"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "F# Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-274",
      "chords": [
        "F#m",
        "D",
        "E",
        "F#m"
      ],
      "expectedModal": false,
      "description": "F# Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-275",
      "chords": [
        "F#dim",
        "G",
        "C#m",
        "F#dim"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "F# Locrian",
      "description": "F# Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-276",
      "chords": [
        "F#dim",
        "G",
        "F#dim"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "F# Locrian",
      "description": "F# Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-277",
      "chords": [
        "F#m7b5",
        "G",
        "F#m7b5"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "F# Locrian",
      "description": "F# Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-278",
      "chords": [
        "F#dim",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "F# Locrian",
      "description": "F# Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-279",
      "chords": [
        "F#dim",
        "C#7",
        "F#dim"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "F# Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-280",
      "chords": [
        "F#dim",
        "G",
        "C#m",
        "F#dim"
      ],
      "expectedModal": false,
      "description": "F# Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-281",
      "chords": [
        "G",
        "C",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "G Ionian",
      "description": "G Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-282",
      "chords": [
        "Gmaj7",
        "Cmaj7",
        "Gmaj7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "G Ionian",
      "description": "G Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-283",
      "chords": [
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "G Ionian",
      "description": "G Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-284",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "G Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-285",
      "chords": [
        "Gm",
        "C",
        "F",
        "Gm"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "G Dorian",
      "description": "G Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-286",
      "chords": [
        "Gm",
        "C",
        "Gm"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "G Dorian",
      "description": "G Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-287",
      "chords": [
        "Gm7",
        "Cmaj7",
        "Gm7"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "G Dorian",
      "description": "G Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-288",
      "chords": [
        "Gm",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "G Dorian",
      "description": "G Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-289",
      "chords": [
        "Gm",
        "Cm",
        "Gm"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "G Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-290",
      "chords": [
        "Gm",
        "C",
        "F",
        "Gm"
      ],
      "expectedModal": false,
      "description": "G Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-291",
      "chords": [
        "Gm",
        "Ab",
        "F",
        "Gm"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "G Phrygian",
      "description": "G Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-292",
      "chords": [
        "Gm",
        "Ab",
        "Gm"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "G Phrygian",
      "description": "G Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-293",
      "chords": [
        "Gm7",
        "Ab",
        "Gm7"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "G Phrygian",
      "description": "G Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-294",
      "chords": [
        "Gm",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "G Phrygian",
      "description": "G Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-295",
      "chords": [
        "Gm",
        "A",
        "Gm"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "G Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-296",
      "chords": [
        "Gm",
        "Ab",
        "F",
        "Gm"
      ],
      "expectedModal": false,
      "description": "G Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-297",
      "chords": [
        "G",
        "A",
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "G Lydian",
      "description": "G Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-298",
      "chords": [
        "G",
        "A",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "G Lydian",
      "description": "G Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-299",
      "chords": [
        "Gmaj7",
        "A",
        "Gmaj7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "G Lydian",
      "description": "G Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-300",
      "chords": [
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "G Lydian",
      "description": "G Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-301",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "G Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-302",
      "chords": [
        "G",
        "A",
        "D",
        "G"
      ],
      "expectedModal": false,
      "description": "G Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-303",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-304",
      "chords": [
        "G",
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-305",
      "chords": [
        "G7",
        "C",
        "G7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-306",
      "chords": [
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-307",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "G Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-308",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "expectedModal": false,
      "description": "G Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-309",
      "chords": [
        "Gm",
        "Eb",
        "F",
        "Gm"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "G Aeolian",
      "description": "G Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-310",
      "chords": [
        "Gm",
        "F",
        "Gm"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "G Aeolian",
      "description": "G Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-311",
      "chords": [
        "Gm7",
        "Eb",
        "F",
        "Gm7"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "G Aeolian",
      "description": "G Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-312",
      "chords": [
        "Gm",
        "F"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "G Aeolian",
      "description": "G Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-313",
      "chords": [
        "Gm",
        "D7",
        "Gm"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "G Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-314",
      "chords": [
        "Gm",
        "Eb",
        "F",
        "Gm"
      ],
      "expectedModal": false,
      "description": "G Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-315",
      "chords": [
        "Gdim",
        "Ab",
        "Dm",
        "Gdim"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "G Locrian",
      "description": "G Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-316",
      "chords": [
        "Gdim",
        "Ab",
        "Gdim"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "G Locrian",
      "description": "G Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-317",
      "chords": [
        "Gm7b5",
        "Ab",
        "Gm7b5"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "G Locrian",
      "description": "G Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-318",
      "chords": [
        "Gdim",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "G Locrian",
      "description": "G Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-319",
      "chords": [
        "Gdim",
        "D7",
        "Gdim"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "G Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-320",
      "chords": [
        "Gdim",
        "Ab",
        "Dm",
        "Gdim"
      ],
      "expectedModal": false,
      "description": "G Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-321",
      "chords": [
        "Ab",
        "Db",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Ab Ionian",
      "description": "Ab Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-322",
      "chords": [
        "Abmaj7",
        "Dbmaj7",
        "Abmaj7"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Ab Ionian",
      "description": "Ab Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-323",
      "chords": [
        "Ab",
        "Db"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Ab Ionian",
      "description": "Ab Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-324",
      "chords": [
        "Ab",
        "Eb",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Ab Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-325",
      "chords": [
        "Abm",
        "Db",
        "Gb",
        "Abm"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Ab Dorian",
      "description": "Ab Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-326",
      "chords": [
        "Abm",
        "Db",
        "Abm"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Ab Dorian",
      "description": "Ab Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-327",
      "chords": [
        "Abm7",
        "Dbmaj7",
        "Abm7"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Ab Dorian",
      "description": "Ab Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-328",
      "chords": [
        "Abm",
        "Db"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Ab Dorian",
      "description": "Ab Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-329",
      "chords": [
        "Abm",
        "Dbm",
        "Abm"
      ],
      "parentKey": "Gb major",
      "expectedModal": false,
      "description": "Ab Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-330",
      "chords": [
        "Abm",
        "Db",
        "Gb",
        "Abm"
      ],
      "expectedModal": false,
      "description": "Ab Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-331",
      "chords": [
        "Abm",
        "A",
        "Gb",
        "Abm"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Ab Phrygian",
      "description": "Ab Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-332",
      "chords": [
        "Abm",
        "A",
        "Abm"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Ab Phrygian",
      "description": "Ab Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-333",
      "chords": [
        "Abm7",
        "A",
        "Abm7"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Ab Phrygian",
      "description": "Ab Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-334",
      "chords": [
        "Abm",
        "A"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "Ab Phrygian",
      "description": "Ab Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-335",
      "chords": [
        "Abm",
        "Bb",
        "Abm"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "Ab Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-336",
      "chords": [
        "Abm",
        "A",
        "Gb",
        "Abm"
      ],
      "expectedModal": false,
      "description": "Ab Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-337",
      "chords": [
        "Ab",
        "Bb",
        "Eb",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Ab Lydian",
      "description": "Ab Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-338",
      "chords": [
        "Ab",
        "Bb",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Ab Lydian",
      "description": "Ab Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-339",
      "chords": [
        "Abmaj7",
        "Bb",
        "Abmaj7"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Ab Lydian",
      "description": "Ab Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-340",
      "chords": [
        "Ab",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Ab Lydian",
      "description": "Ab Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-341",
      "chords": [
        "Ab",
        "Eb",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "Ab Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-342",
      "chords": [
        "Ab",
        "Bb",
        "Eb",
        "Ab"
      ],
      "expectedModal": false,
      "description": "Ab Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-343",
      "chords": [
        "Ab",
        "Gb",
        "Db",
        "Ab"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Ab Mixolydian",
      "description": "Ab Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-344",
      "chords": [
        "Ab",
        "Gb",
        "Ab"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Ab Mixolydian",
      "description": "Ab Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-345",
      "chords": [
        "Ab7",
        "Db",
        "Ab7"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Ab Mixolydian",
      "description": "Ab Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-346",
      "chords": [
        "Ab",
        "Db"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Ab Mixolydian",
      "description": "Ab Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-347",
      "chords": [
        "Ab",
        "Eb",
        "Ab"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Ab Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-348",
      "chords": [
        "Ab",
        "Gb",
        "Db",
        "Ab"
      ],
      "expectedModal": false,
      "description": "Ab Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-349",
      "chords": [
        "Abm",
        "E",
        "Gb",
        "Abm"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Ab Aeolian",
      "description": "Ab Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-350",
      "chords": [
        "Abm",
        "Gb",
        "Abm"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Ab Aeolian",
      "description": "Ab Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-351",
      "chords": [
        "Abm7",
        "E",
        "Gb",
        "Abm7"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Ab Aeolian",
      "description": "Ab Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-352",
      "chords": [
        "Abm",
        "Gb"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Ab Aeolian",
      "description": "Ab Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-353",
      "chords": [
        "Abm",
        "Eb7",
        "Abm"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "Ab Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-354",
      "chords": [
        "Abm",
        "E",
        "Gb",
        "Abm"
      ],
      "expectedModal": false,
      "description": "Ab Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-355",
      "chords": [
        "Abdim",
        "A",
        "Ebm",
        "Abdim"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "Ab Locrian",
      "description": "Ab Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-356",
      "chords": [
        "Abdim",
        "A",
        "Abdim"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "Ab Locrian",
      "description": "Ab Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-357",
      "chords": [
        "Abm7b5",
        "A",
        "Abm7b5"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "Ab Locrian",
      "description": "Ab Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-358",
      "chords": [
        "Abdim",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "Ab Locrian",
      "description": "Ab Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-359",
      "chords": [
        "Abdim",
        "Eb7",
        "Abdim"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "Ab Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-360",
      "chords": [
        "Abdim",
        "A",
        "Ebm",
        "Abdim"
      ],
      "expectedModal": false,
      "description": "Ab Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-361",
      "chords": [
        "A",
        "D",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "A Ionian",
      "description": "A Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-362",
      "chords": [
        "Amaj7",
        "Dmaj7",
        "Amaj7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "A Ionian",
      "description": "A Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-363",
      "chords": [
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "A Ionian",
      "description": "A Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-364",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "A Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-365",
      "chords": [
        "Am",
        "D",
        "G",
        "Am"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "A Dorian",
      "description": "A Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-366",
      "chords": [
        "Am",
        "D",
        "Am"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "A Dorian",
      "description": "A Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-367",
      "chords": [
        "Am7",
        "Dmaj7",
        "Am7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "A Dorian",
      "description": "A Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-368",
      "chords": [
        "Am",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "A Dorian",
      "description": "A Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-369",
      "chords": [
        "Am",
        "Dm",
        "Am"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "A Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-370",
      "chords": [
        "Am",
        "D",
        "G",
        "Am"
      ],
      "expectedModal": false,
      "description": "A Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-371",
      "chords": [
        "Am",
        "Bb",
        "G",
        "Am"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "A Phrygian",
      "description": "A Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-372",
      "chords": [
        "Am",
        "Bb",
        "Am"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "A Phrygian",
      "description": "A Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-373",
      "chords": [
        "Am7",
        "Bb",
        "Am7"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "A Phrygian",
      "description": "A Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-374",
      "chords": [
        "Am",
        "Bb"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "A Phrygian",
      "description": "A Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-375",
      "chords": [
        "Am",
        "B",
        "Am"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "A Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-376",
      "chords": [
        "Am",
        "Bb",
        "G",
        "Am"
      ],
      "expectedModal": false,
      "description": "A Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-377",
      "chords": [
        "A",
        "B",
        "E",
        "A"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "A Lydian",
      "description": "A Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-378",
      "chords": [
        "A",
        "B",
        "A"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "A Lydian",
      "description": "A Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-379",
      "chords": [
        "Amaj7",
        "B",
        "Amaj7"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "A Lydian",
      "description": "A Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-380",
      "chords": [
        "A",
        "B"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "A Lydian",
      "description": "A Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-381",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "A Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-382",
      "chords": [
        "A",
        "B",
        "E",
        "A"
      ],
      "expectedModal": false,
      "description": "A Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-383",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-384",
      "chords": [
        "A",
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-385",
      "chords": [
        "A7",
        "D",
        "A7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-386",
      "chords": [
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-387",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "A Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-388",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "expectedModal": false,
      "description": "A Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-389",
      "chords": [
        "Am",
        "F",
        "G",
        "Am"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "A Aeolian",
      "description": "A Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-390",
      "chords": [
        "Am",
        "G",
        "Am"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "A Aeolian",
      "description": "A Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-391",
      "chords": [
        "Am7",
        "F",
        "G",
        "Am7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "A Aeolian",
      "description": "A Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-392",
      "chords": [
        "Am",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "A Aeolian",
      "description": "A Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-393",
      "chords": [
        "Am",
        "E7",
        "Am"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "A Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-394",
      "chords": [
        "Am",
        "F",
        "G",
        "Am"
      ],
      "expectedModal": false,
      "description": "A Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-395",
      "chords": [
        "Adim",
        "Bb",
        "Em",
        "Adim"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "A Locrian",
      "description": "A Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-396",
      "chords": [
        "Adim",
        "Bb",
        "Adim"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "A Locrian",
      "description": "A Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-397",
      "chords": [
        "Am7b5",
        "Bb",
        "Am7b5"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "A Locrian",
      "description": "A Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-398",
      "chords": [
        "Adim",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "A Locrian",
      "description": "A Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-399",
      "chords": [
        "Adim",
        "E7",
        "Adim"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "A Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-400",
      "chords": [
        "Adim",
        "Bb",
        "Em",
        "Adim"
      ],
      "expectedModal": false,
      "description": "A Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-401",
      "chords": [
        "Bb",
        "Eb",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "Bb Ionian",
      "description": "Bb Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-402",
      "chords": [
        "Bbmaj7",
        "Ebmaj7",
        "Bbmaj7"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "Bb Ionian",
      "description": "Bb Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-403",
      "chords": [
        "Bb",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expectedModal": true,
      "expectedMode": "Bb Ionian",
      "description": "Bb Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-404",
      "chords": [
        "Bb",
        "F",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "Bb Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-405",
      "chords": [
        "Bbm",
        "Eb",
        "Ab",
        "Bbm"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Bb Dorian",
      "description": "Bb Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-406",
      "chords": [
        "Bbm",
        "Eb",
        "Bbm"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Bb Dorian",
      "description": "Bb Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-407",
      "chords": [
        "Bbm7",
        "Ebmaj7",
        "Bbm7"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Bb Dorian",
      "description": "Bb Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-408",
      "chords": [
        "Bbm",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expectedModal": true,
      "expectedMode": "Bb Dorian",
      "description": "Bb Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-409",
      "chords": [
        "Bbm",
        "Ebm",
        "Bbm"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Bb Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-410",
      "chords": [
        "Bbm",
        "Eb",
        "Ab",
        "Bbm"
      ],
      "expectedModal": false,
      "description": "Bb Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-411",
      "chords": [
        "Bbm",
        "B",
        "Ab",
        "Bbm"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Bb Phrygian",
      "description": "Bb Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-412",
      "chords": [
        "Bbm",
        "B",
        "Bbm"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Bb Phrygian",
      "description": "Bb Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-413",
      "chords": [
        "Bbm7",
        "B",
        "Bbm7"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Bb Phrygian",
      "description": "Bb Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-414",
      "chords": [
        "Bbm",
        "B"
      ],
      "parentKey": "Gb major",
      "expectedModal": true,
      "expectedMode": "Bb Phrygian",
      "description": "Bb Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-415",
      "chords": [
        "Bbm",
        "C",
        "Bbm"
      ],
      "parentKey": "Gb major",
      "expectedModal": false,
      "description": "Bb Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-416",
      "chords": [
        "Bbm",
        "B",
        "Ab",
        "Bbm"
      ],
      "expectedModal": false,
      "description": "Bb Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-417",
      "chords": [
        "Bb",
        "C",
        "F",
        "Bb"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "Bb Lydian",
      "description": "Bb Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-418",
      "chords": [
        "Bb",
        "C",
        "Bb"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "Bb Lydian",
      "description": "Bb Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-419",
      "chords": [
        "Bbmaj7",
        "C",
        "Bbmaj7"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "Bb Lydian",
      "description": "Bb Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-420",
      "chords": [
        "Bb",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "Bb Lydian",
      "description": "Bb Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-421",
      "chords": [
        "Bb",
        "F",
        "Bb"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "Bb Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-422",
      "chords": [
        "Bb",
        "C",
        "F",
        "Bb"
      ],
      "expectedModal": false,
      "description": "Bb Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-423",
      "chords": [
        "Bb",
        "Ab",
        "Eb",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Bb Mixolydian",
      "description": "Bb Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-424",
      "chords": [
        "Bb",
        "Ab",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Bb Mixolydian",
      "description": "Bb Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-425",
      "chords": [
        "Bb7",
        "Eb",
        "Bb7"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Bb Mixolydian",
      "description": "Bb Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-426",
      "chords": [
        "Bb",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expectedModal": true,
      "expectedMode": "Bb Mixolydian",
      "description": "Bb Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-427",
      "chords": [
        "Bb",
        "F",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "Bb Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-428",
      "chords": [
        "Bb",
        "Ab",
        "Eb",
        "Bb"
      ],
      "expectedModal": false,
      "description": "Bb Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-429",
      "chords": [
        "Bbm",
        "Gb",
        "Ab",
        "Bbm"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Bb Aeolian",
      "description": "Bb Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-430",
      "chords": [
        "Bbm",
        "Ab",
        "Bbm"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Bb Aeolian",
      "description": "Bb Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-431",
      "chords": [
        "Bbm7",
        "Gb",
        "Ab",
        "Bbm7"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Bb Aeolian",
      "description": "Bb Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-432",
      "chords": [
        "Bbm",
        "Ab"
      ],
      "parentKey": "Db major",
      "expectedModal": true,
      "expectedMode": "Bb Aeolian",
      "description": "Bb Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-433",
      "chords": [
        "Bbm",
        "F7",
        "Bbm"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Bb Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-434",
      "chords": [
        "Bbm",
        "Gb",
        "Ab",
        "Bbm"
      ],
      "expectedModal": false,
      "description": "Bb Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-435",
      "chords": [
        "Bbdim",
        "B",
        "Fm",
        "Bbdim"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Bb Locrian",
      "description": "Bb Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-436",
      "chords": [
        "Bbdim",
        "B",
        "Bbdim"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Bb Locrian",
      "description": "Bb Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-437",
      "chords": [
        "Bbm7b5",
        "B",
        "Bbm7b5"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Bb Locrian",
      "description": "Bb Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-438",
      "chords": [
        "Bbdim",
        "B"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "Bb Locrian",
      "description": "Bb Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-439",
      "chords": [
        "Bbdim",
        "F7",
        "Bbdim"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "Bb Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-440",
      "chords": [
        "Bbdim",
        "B",
        "Fm",
        "Bbdim"
      ],
      "expectedModal": false,
      "description": "Bb Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-441",
      "chords": [
        "B",
        "E",
        "B"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "B Ionian",
      "description": "B Ionian I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Ionian short — plagal movement as modal color"
    },
    {
      "id": "test-442",
      "chords": [
        "Bmaj7",
        "Emaj7",
        "Bmaj7"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "B Ionian",
      "description": "B Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Ionian seventh — Ionian color with 7ths"
    },
    {
      "id": "test-443",
      "chords": [
        "B",
        "E"
      ],
      "parentKey": "B major",
      "expectedModal": true,
      "expectedMode": "B Ionian",
      "description": "B Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Ionian vamp — sustained Ionian color"
    },
    {
      "id": "test-444",
      "chords": [
        "B",
        "F#",
        "B"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "B Ionian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Ionian foil — authentic cadence is functional, not modal"
    },
    {
      "id": "test-445",
      "chords": [
        "Bm",
        "E",
        "A",
        "Bm"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "B Dorian",
      "description": "B Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian long — major IV and bVII with minor tonic"
    },
    {
      "id": "test-446",
      "chords": [
        "Bm",
        "E",
        "Bm"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "B Dorian",
      "description": "B Dorian i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Dorian short — major IV against minor tonic defines Dorian"
    },
    {
      "id": "test-447",
      "chords": [
        "Bm7",
        "Emaj7",
        "Bm7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "B Dorian",
      "description": "B Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Dorian seventh — seventh-quality voicings, modal color intact"
    },
    {
      "id": "test-448",
      "chords": [
        "Bm",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "B Dorian",
      "description": "B Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Dorian vamp — two-chord Dorian vamp"
    },
    {
      "id": "test-449",
      "chords": [
        "Bm",
        "Em",
        "Bm"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "B Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Dorian foil — minor iv pulls toward Aeolian"
    },
    {
      "id": "test-450",
      "chords": [
        "Bm",
        "E",
        "A",
        "Bm"
      ],
      "expectedModal": false,
      "description": "B Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-451",
      "chords": [
        "Bm",
        "C",
        "A",
        "Bm"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "B Phrygian",
      "description": "B Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian long — bII with bVII underscores Phrygian"
    },
    {
      "id": "test-452",
      "chords": [
        "Bm",
        "C",
        "Bm"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "B Phrygian",
      "description": "B Phrygian i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Phrygian short — flat second is the signature degree"
    },
    {
      "id": "test-453",
      "chords": [
        "Bm7",
        "C",
        "Bm7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "B Phrygian",
      "description": "B Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Phrygian seventh — seventh voicing maintains Phrygian color"
    },
    {
      "id": "test-454",
      "chords": [
        "Bm",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "B Phrygian",
      "description": "B Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Phrygian vamp — pedal vamp on tonic and bII"
    },
    {
      "id": "test-455",
      "chords": [
        "Bm",
        "C#",
        "Bm"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "B Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Phrygian foil — natural 2 undermines Phrygian"
    },
    {
      "id": "test-456",
      "chords": [
        "Bm",
        "C",
        "A",
        "Bm"
      ],
      "expectedModal": false,
      "description": "B Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-457",
      "chords": [
        "B",
        "C#",
        "F#",
        "B"
      ],
      "parentKey": "F# major",
      "expectedModal": true,
      "expectedMode": "B Lydian",
      "description": "B Lydian I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian long — raised 4th via II; keeps functional V at bay contextually"
    },
    {
      "id": "test-458",
      "chords": [
        "B",
        "C#",
        "B"
      ],
      "parentKey": "F# major",
      "expectedModal": true,
      "expectedMode": "B Lydian",
      "description": "B Lydian I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Lydian short — II (diatonic) emphasizes #4 over IV"
    },
    {
      "id": "test-459",
      "chords": [
        "Bmaj7",
        "C#",
        "Bmaj7"
      ],
      "parentKey": "F# major",
      "expectedModal": true,
      "expectedMode": "B Lydian",
      "description": "B Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Lydian seventh — Imaj7 with implied #11 color"
    },
    {
      "id": "test-460",
      "chords": [
        "B",
        "C#"
      ],
      "parentKey": "F# major",
      "expectedModal": true,
      "expectedMode": "B Lydian",
      "description": "B Lydian I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Lydian vamp — two-chord Lydian vamp"
    },
    {
      "id": "test-461",
      "chords": [
        "B",
        "F#",
        "B"
      ],
      "parentKey": "F# major",
      "expectedModal": false,
      "description": "B Lydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Lydian foil — authentic cadence reduces Lydian feel"
    },
    {
      "id": "test-462",
      "chords": [
        "B",
        "C#",
        "F#",
        "B"
      ],
      "expectedModal": false,
      "description": "B Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-463",
      "chords": [
        "B",
        "A",
        "E",
        "B"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "B Mixolydian",
      "description": "B Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian long — bVII and IV emphasize modal dominant-less cadence"
    },
    {
      "id": "test-464",
      "chords": [
        "B",
        "A",
        "B"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "B Mixolydian",
      "description": "B Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Mixolydian short — bVII-I cadence is a core Mixolydian marker"
    },
    {
      "id": "test-465",
      "chords": [
        "B7",
        "E",
        "B7"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "B Mixolydian",
      "description": "B Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Mixolydian seventh — dominant-quality tonic is idiomatic in Mixolydian"
    },
    {
      "id": "test-466",
      "chords": [
        "B",
        "E"
      ],
      "parentKey": "E major",
      "expectedModal": true,
      "expectedMode": "B Mixolydian",
      "description": "B Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Mixolydian vamp — sustained modal color without functional V"
    },
    {
      "id": "test-467",
      "chords": [
        "B",
        "F#",
        "B"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "B Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Mixolydian foil — leading-tone V implies functional major over modal"
    },
    {
      "id": "test-468",
      "chords": [
        "B",
        "A",
        "E",
        "B"
      ],
      "expectedModal": false,
      "description": "B Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-469",
      "chords": [
        "Bm",
        "G",
        "A",
        "Bm"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "B Aeolian",
      "description": "B Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian long — natural minor hallmark bVI, bVII"
    },
    {
      "id": "test-470",
      "chords": [
        "Bm",
        "A",
        "Bm"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "B Aeolian",
      "description": "B Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Aeolian short — Aeolian cadence without leading tone"
    },
    {
      "id": "test-471",
      "chords": [
        "Bm7",
        "G",
        "A",
        "Bm7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "B Aeolian",
      "description": "B Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Aeolian seventh — seventh voicings in Aeolian"
    },
    {
      "id": "test-472",
      "chords": [
        "Bm",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "B Aeolian",
      "description": "B Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Aeolian vamp — two-chord Aeolian vamp"
    },
    {
      "id": "test-473",
      "chords": [
        "Bm",
        "F#7",
        "Bm"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "B Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Aeolian foil — leading-tone dominant suggests harmonic minor"
    },
    {
      "id": "test-474",
      "chords": [
        "Bm",
        "G",
        "A",
        "Bm"
      ],
      "expectedModal": false,
      "description": "B Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-475",
      "chords": [
        "Bdim",
        "C",
        "F#m",
        "Bdim"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "B Locrian",
      "description": "B Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian long — Locrian with bII and minor v (no true V)"
    },
    {
      "id": "test-476",
      "chords": [
        "Bdim",
        "C",
        "Bdim"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "B Locrian",
      "description": "B Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Locrian short — diminished tonic and Neapolitan color"
    },
    {
      "id": "test-477",
      "chords": [
        "Bm7b5",
        "C",
        "Bm7b5"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "B Locrian",
      "description": "B Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Locrian seventh — half-diminished tonic is idiomatic for Locrian"
    },
    {
      "id": "test-478",
      "chords": [
        "Bdim",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "B Locrian",
      "description": "B Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Locrian vamp — two-chord Locrian vamp"
    },
    {
      "id": "test-479",
      "chords": [
        "Bdim",
        "F#7",
        "Bdim"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "B Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Locrian foil — true V7 contradicts Locrian"
    },
    {
      "id": "test-480",
      "chords": [
        "Bdim",
        "C",
        "F#m",
        "Bdim"
      ],
      "expectedModal": false,
      "description": "B Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Omit parent key to force boundary decision between modal and functional"
    },
    {
      "id": "test-481",
      "chords": [
        "C",
        "F",
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "C major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-482",
      "chords": [
        "C",
        "A",
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "C major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-483",
      "chords": [
        "A",
        "F",
        "C",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "C major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-484",
      "chords": [
        "D",
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "C major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-485",
      "chords": [
        "C",
        "G",
        "A",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "C major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-486",
      "chords": [
        "Db",
        "Gb",
        "Ab",
        "Db"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Db major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-487",
      "chords": [
        "Db",
        "Bb",
        "Gb",
        "Ab"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Db major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-488",
      "chords": [
        "Bb",
        "Gb",
        "Db",
        "Ab"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Db major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-489",
      "chords": [
        "Eb",
        "Ab",
        "Db"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Db major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-490",
      "chords": [
        "Db",
        "Ab",
        "Bb",
        "Gb"
      ],
      "parentKey": "Db major",
      "expectedModal": false,
      "description": "Db major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-491",
      "chords": [
        "D",
        "G",
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "D major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-492",
      "chords": [
        "D",
        "B",
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "D major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-493",
      "chords": [
        "B",
        "G",
        "D",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "D major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-494",
      "chords": [
        "E",
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "D major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-495",
      "chords": [
        "D",
        "A",
        "B",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "D major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-496",
      "chords": [
        "Eb",
        "Ab",
        "Bb",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "Eb major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-497",
      "chords": [
        "Eb",
        "C",
        "Ab",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "Eb major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-498",
      "chords": [
        "C",
        "Ab",
        "Eb",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "Eb major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-499",
      "chords": [
        "F",
        "Bb",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "Eb major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-500",
      "chords": [
        "Eb",
        "Bb",
        "C",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expectedModal": false,
      "description": "Eb major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-501",
      "chords": [
        "E",
        "A",
        "B",
        "E"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "E major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-502",
      "chords": [
        "E",
        "C#",
        "A",
        "B"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "E major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-503",
      "chords": [
        "C#",
        "A",
        "E",
        "B"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "E major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-504",
      "chords": [
        "F#",
        "B",
        "E"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "E major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-505",
      "chords": [
        "E",
        "B",
        "C#",
        "A"
      ],
      "parentKey": "E major",
      "expectedModal": false,
      "description": "E major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-506",
      "chords": [
        "F",
        "Bb",
        "C",
        "F"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "F major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-507",
      "chords": [
        "F",
        "D",
        "Bb",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "F major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-508",
      "chords": [
        "D",
        "Bb",
        "F",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "F major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-509",
      "chords": [
        "G",
        "C",
        "F"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "F major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-510",
      "chords": [
        "F",
        "C",
        "D",
        "Bb"
      ],
      "parentKey": "F major",
      "expectedModal": false,
      "description": "F major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-511",
      "chords": [
        "F#",
        "B",
        "C#",
        "F#"
      ],
      "parentKey": "F# major",
      "expectedModal": false,
      "description": "F# major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-512",
      "chords": [
        "F#",
        "D#",
        "B",
        "C#"
      ],
      "parentKey": "F# major",
      "expectedModal": false,
      "description": "F# major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-513",
      "chords": [
        "D#",
        "B",
        "F#",
        "C#"
      ],
      "parentKey": "F# major",
      "expectedModal": false,
      "description": "F# major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-514",
      "chords": [
        "G#",
        "C#",
        "F#"
      ],
      "parentKey": "F# major",
      "expectedModal": false,
      "description": "F# major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-515",
      "chords": [
        "F#",
        "C#",
        "D#",
        "B"
      ],
      "parentKey": "F# major",
      "expectedModal": false,
      "description": "F# major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-516",
      "chords": [
        "G",
        "C",
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "G major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-517",
      "chords": [
        "G",
        "E",
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "G major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-518",
      "chords": [
        "E",
        "C",
        "G",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "G major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-519",
      "chords": [
        "A",
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "G major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-520",
      "chords": [
        "G",
        "D",
        "E",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "G major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-521",
      "chords": [
        "Ab",
        "Db",
        "Eb",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Ab major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-522",
      "chords": [
        "Ab",
        "F",
        "Db",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Ab major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-523",
      "chords": [
        "F",
        "Db",
        "Ab",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Ab major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-524",
      "chords": [
        "Bb",
        "Eb",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Ab major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-525",
      "chords": [
        "Ab",
        "Eb",
        "F",
        "Db"
      ],
      "parentKey": "Ab major",
      "expectedModal": false,
      "description": "Ab major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-526",
      "chords": [
        "A",
        "D",
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "A major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-527",
      "chords": [
        "A",
        "F#",
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "A major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-528",
      "chords": [
        "F#",
        "D",
        "A",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "A major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-529",
      "chords": [
        "B",
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "A major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-530",
      "chords": [
        "A",
        "E",
        "F#",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "A major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-531",
      "chords": [
        "Bb",
        "Eb",
        "F",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "Bb major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-532",
      "chords": [
        "Bb",
        "G",
        "Eb",
        "F"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "Bb major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-533",
      "chords": [
        "G",
        "Eb",
        "Bb",
        "F"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "Bb major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-534",
      "chords": [
        "C",
        "F",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "Bb major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-535",
      "chords": [
        "Bb",
        "F",
        "G",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expectedModal": false,
      "description": "Bb major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-536",
      "chords": [
        "B",
        "E",
        "F#",
        "B"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "B major I-IV-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Classic functional cadence - pure functional harmony"
    },
    {
      "id": "test-537",
      "chords": [
        "B",
        "G#",
        "E",
        "F#"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "B major I-vi-IV-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression - pure functional harmony"
    },
    {
      "id": "test-538",
      "chords": [
        "G#",
        "E",
        "B",
        "F#"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "B major vi-IV-I-V functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop progression starting on vi - pure functional harmony"
    },
    {
      "id": "test-539",
      "chords": [
        "C#",
        "F#",
        "B"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "B major ii-V-I functional",
      "category": "functional_clear",
      "theoreticalBasis": "Jazz ii-V-I - pure functional harmony"
    },
    {
      "id": "test-540",
      "chords": [
        "B",
        "F#",
        "G#",
        "E"
      ],
      "parentKey": "B major",
      "expectedModal": false,
      "description": "B major I-V-vi-IV functional",
      "category": "functional_clear",
      "theoreticalBasis": "Pop ballad progression - pure functional harmony"
    },
    {
      "id": "test-541",
      "chords": [
        "C",
        "F",
        "G",
        "C"
      ],
      "expectedModal": false,
      "description": "Ambiguous: Could be C major functional or C Ionian modal",
      "category": "ambiguous",
      "theoreticalBasis": "Without parent key context, functional interpretation is more likely"
    },
    {
      "id": "test-542",
      "chords": [
        "Am",
        "F",
        "C",
        "G"
      ],
      "expectedModal": false,
      "description": "Ambiguous: Could be A Aeolian or vi-IV-I-V in C",
      "category": "ambiguous",
      "theoreticalBasis": "Without parent key context, functional interpretation is more likely"
    },
    {
      "id": "test-543",
      "chords": [
        "D",
        "G",
        "A",
        "D"
      ],
      "expectedModal": false,
      "description": "Ambiguous: Could be D major or D Mixolydian in G",
      "category": "ambiguous",
      "theoreticalBasis": "Without parent key context, functional interpretation is more likely"
    },
    {
      "id": "test-544",
      "chords": [
        "C",
        "A#",
        "F",
        "C"
      ],
      "parentKey": "F major",
      "expectedModal": true,
      "expectedMode": "C Mixolydian",
      "description": "C Mixolydian with parent key context",
      "category": "ambiguous",
      "theoreticalBasis": "Parent key context resolves modal vs functional ambiguity"
    },
    {
      "id": "test-545",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian with parent key context",
      "category": "ambiguous",
      "theoreticalBasis": "Parent key context resolves modal vs functional ambiguity"
    },
    {
      "id": "test-546",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian with parent key context",
      "category": "ambiguous",
      "theoreticalBasis": "Parent key context resolves modal vs functional ambiguity"
    },
    {
      "id": "test-547",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian with parent key context",
      "category": "ambiguous",
      "theoreticalBasis": "Parent key context resolves modal vs functional ambiguity"
    },
    {
      "id": "test-548",
      "chords": [
        "C"
      ],
      "expectedModal": false,
      "description": "Edge case: Single chord",
      "category": "edge_case",
      "theoreticalBasis": "No harmonic progression"
    },
    {
      "id": "test-549",
      "chords": [
        "G",
        "G",
        "G"
      ],
      "expectedModal": false,
      "description": "Edge case: Repeated chord",
      "category": "edge_case",
      "theoreticalBasis": "Static harmony"
    },
    {
      "id": "test-550",
      "chords": [
        "C",
        "C#",
        "D"
      ],
      "expectedModal": false,
      "description": "Edge case: Chromatic progression",
      "category": "edge_case",
      "theoreticalBasis": "Non-diatonic movement"
    },
    {
      "id": "test-551",
      "chords": [
        "F#",
        "Gb"
      ],
      "expectedModal": false,
      "description": "Edge case: Enharmonic equivalents",
      "category": "edge_case",
      "theoreticalBasis": "Enharmonic handling test"
    },
    {
      "id": "test-552",
      "chords": [
        "C",
        "F#",
        "B",
        "E"
      ],
      "expectedModal": false,
      "description": "Edge case: Wide interval jumps",
      "category": "edge_case",
      "theoreticalBasis": "Non-functional movement"
    },
    {
      "id": "test-553",
      "chords": [
        "C",
        "F",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "C Ionian",
      "description": "C Ionian in C major context — I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-554",
      "chords": [
        "Cmaj7",
        "Fmaj7",
        "Cmaj7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "C Ionian",
      "description": "C Ionian in C major context — Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-555",
      "chords": [
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "C Ionian",
      "description": "C Ionian in C major context — I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-556",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "C Ionian in C major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-557",
      "chords": [
        "Dm",
        "G",
        "C",
        "Dm"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "D Dorian",
      "description": "D Dorian in C major context — i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-558",
      "chords": [
        "Dm",
        "G",
        "C",
        "Dm"
      ],
      "expectedModal": false,
      "description": "D Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-559",
      "chords": [
        "Dm",
        "G",
        "Dm"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "D Dorian",
      "description": "D Dorian in C major context — i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-560",
      "chords": [
        "Dm7",
        "Gmaj7",
        "Dm7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "D Dorian",
      "description": "D Dorian in C major context — i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-561",
      "chords": [
        "Dm",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "D Dorian",
      "description": "D Dorian in C major context — i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-562",
      "chords": [
        "Dm",
        "Gm",
        "Dm"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "D Dorian in C major context — i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-563",
      "chords": [
        "Em",
        "F",
        "D",
        "Em"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "E Phrygian",
      "description": "E Phrygian in C major context — i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-564",
      "chords": [
        "Em",
        "F",
        "D",
        "Em"
      ],
      "expectedModal": false,
      "description": "E Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-565",
      "chords": [
        "Em",
        "F",
        "Em"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "E Phrygian",
      "description": "E Phrygian in C major context — i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-566",
      "chords": [
        "Em7",
        "F",
        "Em7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "E Phrygian",
      "description": "E Phrygian in C major context — i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-567",
      "chords": [
        "Em",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "E Phrygian",
      "description": "E Phrygian in C major context — i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-568",
      "chords": [
        "Em",
        "F#",
        "Em"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "E Phrygian in C major context — i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-569",
      "chords": [
        "F",
        "G",
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "F Lydian",
      "description": "F Lydian in C major context — I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-570",
      "chords": [
        "F",
        "G",
        "C",
        "F"
      ],
      "expectedModal": false,
      "description": "F Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-571",
      "chords": [
        "F",
        "G",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "F Lydian",
      "description": "F Lydian in C major context — I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-572",
      "chords": [
        "Fmaj7",
        "G",
        "Fmaj7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "F Lydian",
      "description": "F Lydian in C major context — Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-573",
      "chords": [
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "F Lydian",
      "description": "F Lydian in C major context — I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-574",
      "chords": [
        "F",
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "F Lydian in C major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-575",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian in C major context — I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-576",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "expectedModal": false,
      "description": "G Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-577",
      "chords": [
        "G",
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian in C major context — I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-578",
      "chords": [
        "G7",
        "C",
        "G7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian in C major context — I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-579",
      "chords": [
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "G Mixolydian",
      "description": "G Mixolydian in C major context — I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-580",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "G Mixolydian in C major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-581",
      "chords": [
        "Am",
        "F",
        "G",
        "Am"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "A Aeolian",
      "description": "A Aeolian in C major context — i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-582",
      "chords": [
        "Am",
        "F",
        "G",
        "Am"
      ],
      "expectedModal": false,
      "description": "A Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-583",
      "chords": [
        "Am",
        "G",
        "Am"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "A Aeolian",
      "description": "A Aeolian in C major context — i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-584",
      "chords": [
        "Am7",
        "F",
        "G",
        "Am7"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "A Aeolian",
      "description": "A Aeolian in C major context — i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-585",
      "chords": [
        "Am",
        "G"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "A Aeolian",
      "description": "A Aeolian in C major context — i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-586",
      "chords": [
        "Am",
        "E7",
        "Am"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "A Aeolian in C major context — i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-587",
      "chords": [
        "Bdim",
        "C",
        "F#m",
        "Bdim"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "B Locrian",
      "description": "B Locrian in C major context — i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-588",
      "chords": [
        "Bdim",
        "C",
        "F#m",
        "Bdim"
      ],
      "expectedModal": false,
      "description": "B Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-589",
      "chords": [
        "Bdim",
        "C",
        "Bdim"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "B Locrian",
      "description": "B Locrian in C major context — i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-590",
      "chords": [
        "Bm7b5",
        "C",
        "Bm7b5"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "B Locrian",
      "description": "B Locrian in C major context — iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-591",
      "chords": [
        "Bdim",
        "C"
      ],
      "parentKey": "C major",
      "expectedModal": true,
      "expectedMode": "B Locrian",
      "description": "B Locrian in C major context — i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-592",
      "chords": [
        "Bdim",
        "F#7",
        "Bdim"
      ],
      "parentKey": "C major",
      "expectedModal": false,
      "description": "B Locrian in C major context — i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-593",
      "chords": [
        "G",
        "C",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "G Ionian",
      "description": "G Ionian in G major context — I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-594",
      "chords": [
        "Gmaj7",
        "Cmaj7",
        "Gmaj7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "G Ionian",
      "description": "G Ionian in G major context — Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-595",
      "chords": [
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "G Ionian",
      "description": "G Ionian in G major context — I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-596",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "G Ionian in G major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-597",
      "chords": [
        "Am",
        "D",
        "G",
        "Am"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "A Dorian",
      "description": "A Dorian in G major context — i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-598",
      "chords": [
        "Am",
        "D",
        "G",
        "Am"
      ],
      "expectedModal": false,
      "description": "A Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-599",
      "chords": [
        "Am",
        "D",
        "Am"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "A Dorian",
      "description": "A Dorian in G major context — i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-600",
      "chords": [
        "Am7",
        "Dmaj7",
        "Am7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "A Dorian",
      "description": "A Dorian in G major context — i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-601",
      "chords": [
        "Am",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "A Dorian",
      "description": "A Dorian in G major context — i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-602",
      "chords": [
        "Am",
        "Dm",
        "Am"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "A Dorian in G major context — i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-603",
      "chords": [
        "Bm",
        "C",
        "A",
        "Bm"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "B Phrygian",
      "description": "B Phrygian in G major context — i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-604",
      "chords": [
        "Bm",
        "C",
        "A",
        "Bm"
      ],
      "expectedModal": false,
      "description": "B Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-605",
      "chords": [
        "Bm",
        "C",
        "Bm"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "B Phrygian",
      "description": "B Phrygian in G major context — i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-606",
      "chords": [
        "Bm7",
        "C",
        "Bm7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "B Phrygian",
      "description": "B Phrygian in G major context — i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-607",
      "chords": [
        "Bm",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "B Phrygian",
      "description": "B Phrygian in G major context — i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-608",
      "chords": [
        "Bm",
        "C#",
        "Bm"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "B Phrygian in G major context — i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-609",
      "chords": [
        "C",
        "D",
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "C Lydian",
      "description": "C Lydian in G major context — I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-610",
      "chords": [
        "C",
        "D",
        "G",
        "C"
      ],
      "expectedModal": false,
      "description": "C Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-611",
      "chords": [
        "C",
        "D",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "C Lydian",
      "description": "C Lydian in G major context — I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-612",
      "chords": [
        "Cmaj7",
        "D",
        "Cmaj7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "C Lydian",
      "description": "C Lydian in G major context — Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-613",
      "chords": [
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "C Lydian",
      "description": "C Lydian in G major context — I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-614",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "C Lydian in G major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-615",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian in G major context — I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-616",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "expectedModal": false,
      "description": "D Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-617",
      "chords": [
        "D",
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian in G major context — I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-618",
      "chords": [
        "D7",
        "G",
        "D7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian in G major context — I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-619",
      "chords": [
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "D Mixolydian",
      "description": "D Mixolydian in G major context — I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-620",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "D Mixolydian in G major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-621",
      "chords": [
        "Em",
        "C",
        "D",
        "Em"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "E Aeolian",
      "description": "E Aeolian in G major context — i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-622",
      "chords": [
        "Em",
        "C",
        "D",
        "Em"
      ],
      "expectedModal": false,
      "description": "E Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-623",
      "chords": [
        "Em",
        "D",
        "Em"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "E Aeolian",
      "description": "E Aeolian in G major context — i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-624",
      "chords": [
        "Em7",
        "C",
        "D",
        "Em7"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "E Aeolian",
      "description": "E Aeolian in G major context — i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-625",
      "chords": [
        "Em",
        "D"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "E Aeolian",
      "description": "E Aeolian in G major context — i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-626",
      "chords": [
        "Em",
        "B7",
        "Em"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "E Aeolian in G major context — i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-627",
      "chords": [
        "F#dim",
        "G",
        "C#m",
        "F#dim"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "F# Locrian",
      "description": "F# Locrian in G major context — i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-628",
      "chords": [
        "F#dim",
        "G",
        "C#m",
        "F#dim"
      ],
      "expectedModal": false,
      "description": "F# Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-629",
      "chords": [
        "F#dim",
        "G",
        "F#dim"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "F# Locrian",
      "description": "F# Locrian in G major context — i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-630",
      "chords": [
        "F#m7b5",
        "G",
        "F#m7b5"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "F# Locrian",
      "description": "F# Locrian in G major context — iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-631",
      "chords": [
        "F#dim",
        "G"
      ],
      "parentKey": "G major",
      "expectedModal": true,
      "expectedMode": "F# Locrian",
      "description": "F# Locrian in G major context — i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-632",
      "chords": [
        "F#dim",
        "C#7",
        "F#dim"
      ],
      "parentKey": "G major",
      "expectedModal": false,
      "description": "F# Locrian in G major context — i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-633",
      "chords": [
        "D",
        "G",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "D Ionian",
      "description": "D Ionian in D major context — I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-634",
      "chords": [
        "Dmaj7",
        "Gmaj7",
        "Dmaj7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "D Ionian",
      "description": "D Ionian in D major context — Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-635",
      "chords": [
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "D Ionian",
      "description": "D Ionian in D major context — I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-636",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "D Ionian in D major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-637",
      "chords": [
        "Em",
        "A",
        "D",
        "Em"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "E Dorian",
      "description": "E Dorian in D major context — i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-638",
      "chords": [
        "Em",
        "A",
        "D",
        "Em"
      ],
      "expectedModal": false,
      "description": "E Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-639",
      "chords": [
        "Em",
        "A",
        "Em"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "E Dorian",
      "description": "E Dorian in D major context — i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-640",
      "chords": [
        "Em7",
        "Amaj7",
        "Em7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "E Dorian",
      "description": "E Dorian in D major context — i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-641",
      "chords": [
        "Em",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "E Dorian",
      "description": "E Dorian in D major context — i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-642",
      "chords": [
        "Em",
        "Am",
        "Em"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "E Dorian in D major context — i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-643",
      "chords": [
        "F#m",
        "G",
        "E",
        "F#m"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "F# Phrygian",
      "description": "F# Phrygian in D major context — i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-644",
      "chords": [
        "F#m",
        "G",
        "E",
        "F#m"
      ],
      "expectedModal": false,
      "description": "F# Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-645",
      "chords": [
        "F#m",
        "G",
        "F#m"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "F# Phrygian",
      "description": "F# Phrygian in D major context — i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-646",
      "chords": [
        "F#m7",
        "G",
        "F#m7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "F# Phrygian",
      "description": "F# Phrygian in D major context — i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-647",
      "chords": [
        "F#m",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "F# Phrygian",
      "description": "F# Phrygian in D major context — i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-648",
      "chords": [
        "F#m",
        "G#",
        "F#m"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "F# Phrygian in D major context — i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-649",
      "chords": [
        "G",
        "A",
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "G Lydian",
      "description": "G Lydian in D major context — I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-650",
      "chords": [
        "G",
        "A",
        "D",
        "G"
      ],
      "expectedModal": false,
      "description": "G Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-651",
      "chords": [
        "G",
        "A",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "G Lydian",
      "description": "G Lydian in D major context — I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-652",
      "chords": [
        "Gmaj7",
        "A",
        "Gmaj7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "G Lydian",
      "description": "G Lydian in D major context — Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-653",
      "chords": [
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "G Lydian",
      "description": "G Lydian in D major context — I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-654",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "G Lydian in D major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-655",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian in D major context — I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-656",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "expectedModal": false,
      "description": "A Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-657",
      "chords": [
        "A",
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian in D major context — I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-658",
      "chords": [
        "A7",
        "D",
        "A7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian in D major context — I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-659",
      "chords": [
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "A Mixolydian",
      "description": "A Mixolydian in D major context — I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-660",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "A Mixolydian in D major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-661",
      "chords": [
        "Bm",
        "G",
        "A",
        "Bm"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "B Aeolian",
      "description": "B Aeolian in D major context — i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-662",
      "chords": [
        "Bm",
        "G",
        "A",
        "Bm"
      ],
      "expectedModal": false,
      "description": "B Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-663",
      "chords": [
        "Bm",
        "A",
        "Bm"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "B Aeolian",
      "description": "B Aeolian in D major context — i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-664",
      "chords": [
        "Bm7",
        "G",
        "A",
        "Bm7"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "B Aeolian",
      "description": "B Aeolian in D major context — i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-665",
      "chords": [
        "Bm",
        "A"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "B Aeolian",
      "description": "B Aeolian in D major context — i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-666",
      "chords": [
        "Bm",
        "F#7",
        "Bm"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "B Aeolian in D major context — i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-667",
      "chords": [
        "C#dim",
        "D",
        "G#m",
        "C#dim"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "C# Locrian",
      "description": "C# Locrian in D major context — i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-668",
      "chords": [
        "C#dim",
        "D",
        "G#m",
        "C#dim"
      ],
      "expectedModal": false,
      "description": "C# Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-669",
      "chords": [
        "C#dim",
        "D",
        "C#dim"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "C# Locrian",
      "description": "C# Locrian in D major context — i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-670",
      "chords": [
        "C#m7b5",
        "D",
        "C#m7b5"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "C# Locrian",
      "description": "C# Locrian in D major context — iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-671",
      "chords": [
        "C#dim",
        "D"
      ],
      "parentKey": "D major",
      "expectedModal": true,
      "expectedMode": "C# Locrian",
      "description": "C# Locrian in D major context — i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-672",
      "chords": [
        "C#dim",
        "G#7",
        "C#dim"
      ],
      "parentKey": "D major",
      "expectedModal": false,
      "description": "C# Locrian in D major context — i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-673",
      "chords": [
        "A",
        "D",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "A Ionian",
      "description": "A Ionian in A major context — I-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-674",
      "chords": [
        "Amaj7",
        "Dmaj7",
        "Amaj7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "A Ionian",
      "description": "A Ionian in A major context — Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-675",
      "chords": [
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "A Ionian",
      "description": "A Ionian in A major context — I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-676",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "A Ionian in A major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Ionian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-677",
      "chords": [
        "Bm",
        "E",
        "A",
        "Bm"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "B Dorian",
      "description": "B Dorian in A major context — i-IV-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-678",
      "chords": [
        "Bm",
        "E",
        "A",
        "Bm"
      ],
      "expectedModal": false,
      "description": "B Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-679",
      "chords": [
        "Bm",
        "E",
        "Bm"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "B Dorian",
      "description": "B Dorian in A major context — i-IV-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-680",
      "chords": [
        "Bm7",
        "Emaj7",
        "Bm7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "B Dorian",
      "description": "B Dorian in A major context — i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-681",
      "chords": [
        "Bm",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "B Dorian",
      "description": "B Dorian in A major context — i-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-682",
      "chords": [
        "Bm",
        "Em",
        "Bm"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "B Dorian in A major context — i-iv-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Dorian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-683",
      "chords": [
        "C#m",
        "D",
        "B",
        "C#m"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "C# Phrygian",
      "description": "C# Phrygian in A major context — i-bII-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-684",
      "chords": [
        "C#m",
        "D",
        "B",
        "C#m"
      ],
      "expectedModal": false,
      "description": "C# Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-685",
      "chords": [
        "C#m",
        "D",
        "C#m"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "C# Phrygian",
      "description": "C# Phrygian in A major context — i-bII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-686",
      "chords": [
        "C#m7",
        "D",
        "C#m7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "C# Phrygian",
      "description": "C# Phrygian in A major context — i7-bII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-687",
      "chords": [
        "C#m",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "C# Phrygian",
      "description": "C# Phrygian in A major context — i-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-688",
      "chords": [
        "C#m",
        "D#",
        "C#m"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "C# Phrygian in A major context — i-II-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Phrygian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-689",
      "chords": [
        "D",
        "E",
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "D Lydian",
      "description": "D Lydian in A major context — I-II-V-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-690",
      "chords": [
        "D",
        "E",
        "A",
        "D"
      ],
      "expectedModal": false,
      "description": "D Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-691",
      "chords": [
        "D",
        "E",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "D Lydian",
      "description": "D Lydian in A major context — I-II-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-692",
      "chords": [
        "Dmaj7",
        "E",
        "Dmaj7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "D Lydian",
      "description": "D Lydian in A major context — Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-693",
      "chords": [
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "D Lydian",
      "description": "D Lydian in A major context — I-II (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-694",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "D Lydian in A major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Lydian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-695",
      "chords": [
        "E",
        "D",
        "A",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "E Mixolydian",
      "description": "E Mixolydian in A major context — I-bVII-IV-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-696",
      "chords": [
        "E",
        "D",
        "A",
        "E"
      ],
      "expectedModal": false,
      "description": "E Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-697",
      "chords": [
        "E",
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "E Mixolydian",
      "description": "E Mixolydian in A major context — I-bVII-I",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-698",
      "chords": [
        "E7",
        "A",
        "E7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "E Mixolydian",
      "description": "E Mixolydian in A major context — I7-IV-I7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-699",
      "chords": [
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "E Mixolydian",
      "description": "E Mixolydian in A major context — I-IV (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-700",
      "chords": [
        "E",
        "B",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "E Mixolydian in A major context — I-V-I (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Mixolydian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-701",
      "chords": [
        "F#m",
        "D",
        "E",
        "F#m"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "F# Aeolian",
      "description": "F# Aeolian in A major context — i-bVI-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-702",
      "chords": [
        "F#m",
        "D",
        "E",
        "F#m"
      ],
      "expectedModal": false,
      "description": "F# Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-703",
      "chords": [
        "F#m",
        "E",
        "F#m"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "F# Aeolian",
      "description": "F# Aeolian in A major context — i-bVII-i",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-704",
      "chords": [
        "F#m7",
        "D",
        "E",
        "F#m7"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "F# Aeolian",
      "description": "F# Aeolian in A major context — i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-705",
      "chords": [
        "F#m",
        "E"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "F# Aeolian",
      "description": "F# Aeolian in A major context — i-bVII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-706",
      "chords": [
        "F#m",
        "C#7",
        "F#m"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "F# Aeolian in A major context — i-V7-i (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Aeolian from other modes in same parent key; variant=foil"
    },
    {
      "id": "test-707",
      "chords": [
        "G#dim",
        "A",
        "D#m",
        "G#dim"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "G# Locrian",
      "description": "G# Locrian in A major context — i°-bII-v-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=long"
    },
    {
      "id": "test-708",
      "chords": [
        "G#dim",
        "A",
        "D#m",
        "G#dim"
      ],
      "expectedModal": false,
      "description": "G# Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "theoreticalBasis": "Boundary test without parent-key context"
    },
    {
      "id": "test-709",
      "chords": [
        "G#dim",
        "A",
        "G#dim"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "G# Locrian",
      "description": "G# Locrian in A major context — i°-bII-i°",
      "category": "modal_characteristic",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=short"
    },
    {
      "id": "test-710",
      "chords": [
        "G#m7b5",
        "A",
        "G#m7b5"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "G# Locrian",
      "description": "G# Locrian in A major context — iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=seventh"
    },
    {
      "id": "test-711",
      "chords": [
        "G#dim",
        "A"
      ],
      "parentKey": "A major",
      "expectedModal": true,
      "expectedMode": "G# Locrian",
      "description": "G# Locrian in A major context — i°-bII (vamp)",
      "category": "modal_vamp",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=vamp"
    },
    {
      "id": "test-712",
      "chords": [
        "G#dim",
        "D#7",
        "G#dim"
      ],
      "parentKey": "A major",
      "expectedModal": false,
      "description": "G# Locrian in A major context — i°-V7-i° (foil)",
      "category": "modal_foil",
      "theoreticalBasis": "Distinguishes Locrian from other modes in same parent key; variant=foil"
    }
  ]
}