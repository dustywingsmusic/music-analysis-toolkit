{
  "summary": {
    "executedAt": "2025-08-10T18:40:10.485Z",
    "totalTests": 728,
    "totalPassed": 728,
    "totalFailed": 0,
    "overallSuccessRate": "100.00%"
  },
  "categoryBreakdown": {
    "modal_characteristic": {
      "total": 224,
      "passed": 224,
      "failed": 0,
      "successRate": "100.00%",
      "failures": []
    },
    "modal_seventh_variant": {
      "total": 112,
      "passed": 112,
      "failed": 0,
      "successRate": "100.00%",
      "failures": []
    },
    "modal_vamp": {
      "total": 112,
      "passed": 112,
      "failed": 0,
      "successRate": "100.00%",
      "failures": []
    },
    "modal_foil": {
      "total": 112,
      "passed": 112,
      "failed": 0,
      "successRate": "100.00%",
      "failures": []
    },
    "functional_clear": {
      "total": 60,
      "passed": 60,
      "failed": 0,
      "successRate": "100.00%",
      "failures": []
    },
    "ambiguous": {
      "total": 103,
      "passed": 103,
      "failed": 0,
      "successRate": "100.00%",
      "failures": []
    },
    "edge_case": {
      "total": 5,
      "passed": 5,
      "failed": 0,
      "successRate": "100.00%",
      "failures": []
    }
  },
  "allTestExecutions": [
    {
      "testId": "test-1",
      "description": "C Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "F",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "C Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.012Z"
    },
    {
      "testId": "test-2",
      "description": "C Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Cmaj7",
        "Fmaj7",
        "Cmaj7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "C Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.016Z"
    },
    {
      "testId": "test-3",
      "description": "C Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "C Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.017Z"
    },
    {
      "testId": "test-4",
      "description": "C Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.017Z"
    },
    {
      "testId": "test-5",
      "description": "C Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Cm",
        "F",
        "Bb",
        "Cm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "C Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Dorian (C D E♭ F G A B♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.018Z"
    },
    {
      "testId": "test-6",
      "description": "C Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Cm",
        "F",
        "Cm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "C Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Dorian (C D E♭ F G A B♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.019Z"
    },
    {
      "testId": "test-7",
      "description": "C Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Cm7",
        "Fmaj7",
        "Cm7"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "C Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Dorian (C D E♭ F G A B♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.034Z"
    },
    {
      "testId": "test-8",
      "description": "C Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Cm",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "C Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Dorian (C D E♭ F G A B♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.037Z"
    },
    {
      "testId": "test-9",
      "description": "C Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Cm",
        "Fm",
        "Cm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Dorian (C D E♭ F G A B♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.039Z"
    },
    {
      "testId": "test-10",
      "description": "C Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Cm",
        "F",
        "Bb",
        "Cm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Dorian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.040Z"
    },
    {
      "testId": "test-11",
      "description": "C Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Cm",
        "Db",
        "Bb",
        "Cm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "C Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Phrygian (C D♭ E♭ F G A♭ B♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.041Z"
    },
    {
      "testId": "test-12",
      "description": "C Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Cm",
        "Db",
        "Cm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "C Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Phrygian (C D♭ E♭ F G A♭ B♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.041Z"
    },
    {
      "testId": "test-13",
      "description": "C Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Cm7",
        "Db",
        "Cm7"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "C Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Phrygian (C D♭ E♭ F G A♭ B♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.042Z"
    },
    {
      "testId": "test-14",
      "description": "C Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Cm",
        "Db"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "C Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "C Phrygian (C D♭ E♭ F G A♭ B♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.042Z"
    },
    {
      "testId": "test-15",
      "description": "C Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Cm",
        "D",
        "Cm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Phrygian (C D♭ E♭ F G A♭ B♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.042Z"
    },
    {
      "testId": "test-16",
      "description": "C Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Cm",
        "Db",
        "Bb",
        "Cm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Aeolian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.043Z"
    },
    {
      "testId": "test-17",
      "description": "C Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "D",
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.043Z"
    },
    {
      "testId": "test-18",
      "description": "C Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "D",
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.048Z"
    },
    {
      "testId": "test-19",
      "description": "C Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "D",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.072Z"
    },
    {
      "testId": "test-20",
      "description": "C Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Cmaj7",
        "D",
        "Cmaj7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.073Z"
    },
    {
      "testId": "test-21",
      "description": "C Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.074Z"
    },
    {
      "testId": "test-22",
      "description": "C Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.075Z"
    },
    {
      "testId": "test-23",
      "description": "C Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "C",
        "D",
        "G",
        "C"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.075Z"
    },
    {
      "testId": "test-24",
      "description": "C Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "Bb",
        "F",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "C Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Mixolydian (C D E F G A B♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.075Z"
    },
    {
      "testId": "test-25",
      "description": "C Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "Bb",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "C Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Mixolydian (C D E F G A B♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.076Z"
    },
    {
      "testId": "test-26",
      "description": "C Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "C7",
        "F",
        "C7"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "C Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Mixolydian (C D E F G A B♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.076Z"
    },
    {
      "testId": "test-27",
      "description": "C Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "C",
        "F"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "C Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Mixolydian (C D E F G A B♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.076Z"
    },
    {
      "testId": "test-28",
      "description": "C Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Mixolydian (C D E F G A B♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.077Z"
    },
    {
      "testId": "test-29",
      "description": "C Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "C",
        "Bb",
        "F",
        "C"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Mixolydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.077Z"
    },
    {
      "testId": "test-30",
      "description": "C Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Cm",
        "Ab",
        "Bb",
        "Cm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "C Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Aeolian (C D E♭ F G A♭ B♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.077Z"
    },
    {
      "testId": "test-31",
      "description": "C Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Cm",
        "Bb",
        "Cm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "C Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Aeolian (C D E♭ F G A♭ B♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.078Z"
    },
    {
      "testId": "test-32",
      "description": "C Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Cm7",
        "Ab",
        "Bb",
        "Cm7"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "C Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Aeolian (C D E♭ F G A♭ B♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.078Z"
    },
    {
      "testId": "test-33",
      "description": "C Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Cm",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "C Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "C Aeolian (C D E♭ F G A♭ B♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.078Z"
    },
    {
      "testId": "test-34",
      "description": "C Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Cm",
        "G7",
        "Cm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Aeolian (C D E♭ F G A♭ B♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.079Z"
    },
    {
      "testId": "test-35",
      "description": "C Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Cm",
        "Ab",
        "Bb",
        "Cm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Aeolian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.079Z"
    },
    {
      "testId": "test-36",
      "description": "C Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Cdim",
        "Db",
        "Gbm",
        "Cdim"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "C Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "C Locrian (C D♭ E♭ F G♭ A♭ B♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.079Z"
    },
    {
      "testId": "test-37",
      "description": "C Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Cdim",
        "Db",
        "Cdim"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "C Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Locrian (C D♭ E♭ F G♭ A♭ B♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.079Z"
    },
    {
      "testId": "test-38",
      "description": "C Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Cm7b5",
        "Db",
        "Cm7b5"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "C Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Locrian (C D♭ E♭ F G♭ A♭ B♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.080Z"
    },
    {
      "testId": "test-39",
      "description": "C Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Cdim",
        "Db"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "C Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "C Locrian (C D♭ E♭ F G♭ A♭ B♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.080Z"
    },
    {
      "testId": "test-40",
      "description": "C Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Cdim",
        "G7",
        "Cdim"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Locrian (C D♭ E♭ F G♭ A♭ B♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.080Z"
    },
    {
      "testId": "test-41",
      "description": "C Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Cdim",
        "Db",
        "Gbm",
        "Cdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Locrian ♭7♭5",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.081Z"
    },
    {
      "testId": "test-42",
      "description": "Db Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "Db",
        "Gb",
        "Db"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Db Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Ionian (C# D♯ E♯ F♯ G♯ A♯ B♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.081Z"
    },
    {
      "testId": "test-43",
      "description": "Db Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dbmaj7",
        "Gbmaj7",
        "Dbmaj7"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Db Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Ionian (C# D♯ E♯ F♯ G♯ A♯ B♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.081Z"
    },
    {
      "testId": "test-44",
      "description": "Db Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Db",
        "Gb"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Db Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Ionian (C# D♯ E♯ F♯ G♯ A♯ B♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.082Z"
    },
    {
      "testId": "test-45",
      "description": "Db Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Db",
        "Ab",
        "Db"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Ionian (C# D♯ E♯ F♯ G♯ A♯ B♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.082Z"
    },
    {
      "testId": "test-46",
      "description": "Db Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dbm",
        "Gb",
        "B",
        "Dbm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Db Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Dorian (C# D♯ E F♯ G♯ A♯ B) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.082Z"
    },
    {
      "testId": "test-47",
      "description": "Db Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Dbm",
        "Gb",
        "Dbm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Db Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Dorian (C# D♯ E F♯ G♯ A♯ B) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.083Z"
    },
    {
      "testId": "test-48",
      "description": "Db Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dbm7",
        "Gbmaj7",
        "Dbm7"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Db Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Dorian (C# D♯ E F♯ G♯ A♯ B) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.083Z"
    },
    {
      "testId": "test-49",
      "description": "Db Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Dbm",
        "Gb"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Db Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Dorian (C# D♯ E F♯ G♯ A♯ B) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.084Z"
    },
    {
      "testId": "test-50",
      "description": "Db Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Dbm",
        "Gbm",
        "Dbm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Dorian (C# D♯ E F♯ G♯ A♯ B) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.084Z"
    },
    {
      "testId": "test-51",
      "description": "Db Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Dbm",
        "Gb",
        "B",
        "Dbm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.119Z"
    },
    {
      "testId": "test-52",
      "description": "Db Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dbm",
        "D",
        "B",
        "Dbm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "Db Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.119Z"
    },
    {
      "testId": "test-53",
      "description": "Db Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dbm",
        "D",
        "Dbm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "Db Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.120Z"
    },
    {
      "testId": "test-54",
      "description": "Db Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dbm7",
        "D",
        "Dbm7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "Db Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.120Z"
    },
    {
      "testId": "test-55",
      "description": "Db Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Dbm",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "Db Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.120Z"
    },
    {
      "testId": "test-56",
      "description": "Db Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Dbm",
        "Eb",
        "Dbm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.121Z"
    },
    {
      "testId": "test-57",
      "description": "Db Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Dbm",
        "D",
        "B",
        "Dbm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.121Z"
    },
    {
      "testId": "test-58",
      "description": "Db Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "Db",
        "Eb",
        "Ab",
        "Db"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Db Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Lydian (C# D♯ E♯ F♯♯ G♯ A♯ B♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.122Z"
    },
    {
      "testId": "test-59",
      "description": "Db Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "Db",
        "Eb",
        "Db",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Db Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "C# Lydian (C# D♯ E♯ F♯♯ G♯ A♯ B♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.122Z"
    },
    {
      "testId": "test-60",
      "description": "Db Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "Db",
        "Eb",
        "Db"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Db Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Lydian (C# D♯ E♯ F♯♯ G♯ A♯ B♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.123Z"
    },
    {
      "testId": "test-61",
      "description": "Db Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dbmaj7",
        "Eb",
        "Dbmaj7"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Db Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Lydian (C# D♯ E♯ F♯♯ G♯ A♯ B♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.123Z"
    },
    {
      "testId": "test-62",
      "description": "Db Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Db",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Db Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "C# Lydian (C# D♯ E♯ F♯♯ G♯ A♯ B♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.124Z"
    },
    {
      "testId": "test-63",
      "description": "Db Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Db",
        "Ab",
        "Db"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Lydian (C# D♯ E♯ F♯♯ G♯ A♯ B♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.124Z"
    },
    {
      "testId": "test-64",
      "description": "Db Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Db",
        "Eb",
        "Ab",
        "Db"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Phrygian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.125Z"
    },
    {
      "testId": "test-65",
      "description": "Db Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "Db",
        "Cb",
        "Gb",
        "Db"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Db Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.125Z"
    },
    {
      "testId": "test-66",
      "description": "Db Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "Db",
        "Cb",
        "Db"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Db Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.126Z"
    },
    {
      "testId": "test-67",
      "description": "Db Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "Db7",
        "Gb",
        "Db7"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Db Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.126Z"
    },
    {
      "testId": "test-68",
      "description": "Db Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Db",
        "Gb"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Db Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.126Z"
    },
    {
      "testId": "test-69",
      "description": "Db Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Db",
        "Ab",
        "Db"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.126Z"
    },
    {
      "testId": "test-70",
      "description": "Db Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Db",
        "Cb",
        "Gb",
        "Db"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.127Z"
    },
    {
      "testId": "test-71",
      "description": "Db Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dbm",
        "A",
        "B",
        "Dbm"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Db Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Aeolian (C# D♯ E F♯ G♯ A B) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.127Z"
    },
    {
      "testId": "test-72",
      "description": "Db Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dbm",
        "B",
        "Dbm"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Db Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Aeolian (C# D♯ E F♯ G♯ A B) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.128Z"
    },
    {
      "testId": "test-73",
      "description": "Db Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dbm7",
        "A",
        "B",
        "Dbm7"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Db Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Aeolian (C# D♯ E F♯ G♯ A B) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.128Z"
    },
    {
      "testId": "test-74",
      "description": "Db Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Dbm",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Db Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "C# Aeolian (C# D♯ E F♯ G♯ A B) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.137Z"
    },
    {
      "testId": "test-75",
      "description": "Db Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Dbm",
        "Ab7",
        "Dbm"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Aeolian (C# D♯ E F♯ G♯ A B) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.151Z"
    },
    {
      "testId": "test-76",
      "description": "Db Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Dbm",
        "A",
        "B",
        "Dbm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.151Z"
    },
    {
      "testId": "test-77",
      "description": "Db Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Dbdim",
        "D",
        "Gm",
        "Dbdim"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "Db Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.152Z"
    },
    {
      "testId": "test-78",
      "description": "Db Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Dbdim",
        "D",
        "Dbdim"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "Db Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.153Z"
    },
    {
      "testId": "test-79",
      "description": "Db Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dbm7b5",
        "D",
        "Dbm7b5"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "Db Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.154Z"
    },
    {
      "testId": "test-80",
      "description": "Db Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Dbdim",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "Db Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.155Z"
    },
    {
      "testId": "test-81",
      "description": "Db Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Dbdim",
        "Ab7",
        "Dbdim"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.155Z"
    },
    {
      "testId": "test-82",
      "description": "Db Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Dbdim",
        "D",
        "Gm",
        "Dbdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Db Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C# Lydian (C# D♯ E♯ F♯♯ G♯ A♯ B♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.156Z"
    },
    {
      "testId": "test-83",
      "description": "D Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "G",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "D Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.157Z"
    },
    {
      "testId": "test-84",
      "description": "D Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dmaj7",
        "Gmaj7",
        "Dmaj7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "D Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.157Z"
    },
    {
      "testId": "test-85",
      "description": "D Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "D Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.158Z"
    },
    {
      "testId": "test-86",
      "description": "D Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.159Z"
    },
    {
      "testId": "test-87",
      "description": "D Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dm",
        "G",
        "C",
        "Dm"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "D Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.159Z"
    },
    {
      "testId": "test-88",
      "description": "D Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Dm",
        "G",
        "Dm"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "D Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.169Z"
    },
    {
      "testId": "test-89",
      "description": "D Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dm7",
        "Gmaj7",
        "Dm7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "D Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.179Z"
    },
    {
      "testId": "test-90",
      "description": "D Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Dm",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "D Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.185Z"
    },
    {
      "testId": "test-91",
      "description": "D Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Dm",
        "Gm",
        "Dm"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.185Z"
    },
    {
      "testId": "test-92",
      "description": "D Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Dm",
        "G",
        "C",
        "Dm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.185Z"
    },
    {
      "testId": "test-93",
      "description": "D Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dm",
        "Eb",
        "C",
        "Dm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "D Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Phrygian (D E♭ F G A B♭ C) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.185Z"
    },
    {
      "testId": "test-94",
      "description": "D Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dm",
        "Eb",
        "Dm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "D Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Phrygian (D E♭ F G A B♭ C) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.186Z"
    },
    {
      "testId": "test-95",
      "description": "D Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dm7",
        "Eb",
        "Dm7"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "D Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Phrygian (D E♭ F G A B♭ C) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.186Z"
    },
    {
      "testId": "test-96",
      "description": "D Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Dm",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "D Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "D Phrygian (D E♭ F G A B♭ C) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.187Z"
    },
    {
      "testId": "test-97",
      "description": "D Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Dm",
        "E",
        "Dm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Phrygian (D E♭ F G A B♭ C) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.187Z"
    },
    {
      "testId": "test-98",
      "description": "D Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Dm",
        "Eb",
        "C",
        "Dm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Mixolydian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.187Z"
    },
    {
      "testId": "test-99",
      "description": "D Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "E",
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.187Z"
    },
    {
      "testId": "test-100",
      "description": "D Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "E",
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.188Z"
    },
    {
      "testId": "test-101",
      "description": "D Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "E",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.188Z"
    },
    {
      "testId": "test-102",
      "description": "D Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dmaj7",
        "E",
        "Dmaj7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.188Z"
    },
    {
      "testId": "test-103",
      "description": "D Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.196Z"
    },
    {
      "testId": "test-104",
      "description": "D Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.196Z"
    },
    {
      "testId": "test-105",
      "description": "D Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "D",
        "E",
        "A",
        "D"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.197Z"
    },
    {
      "testId": "test-106",
      "description": "D Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.197Z"
    },
    {
      "testId": "test-107",
      "description": "D Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.197Z"
    },
    {
      "testId": "test-108",
      "description": "D Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "D7",
        "G",
        "D7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.198Z"
    },
    {
      "testId": "test-109",
      "description": "D Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.198Z"
    },
    {
      "testId": "test-110",
      "description": "D Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.198Z"
    },
    {
      "testId": "test-111",
      "description": "D Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.198Z"
    },
    {
      "testId": "test-112",
      "description": "D Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dm",
        "Bb",
        "C",
        "Dm"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "D Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Aeolian (D E F G A B♭ C) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.199Z"
    },
    {
      "testId": "test-113",
      "description": "D Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dm",
        "C",
        "Dm"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "D Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Aeolian (D E F G A B♭ C) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.199Z"
    },
    {
      "testId": "test-114",
      "description": "D Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dm7",
        "Bb",
        "C",
        "Dm7"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "D Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Aeolian (D E F G A B♭ C) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.223Z"
    },
    {
      "testId": "test-115",
      "description": "D Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Dm",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "D Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "D Aeolian (D E F G A B♭ C) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.231Z"
    },
    {
      "testId": "test-116",
      "description": "D Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Dm",
        "A7",
        "Dm"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Aeolian (D E F G A B♭ C) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.232Z"
    },
    {
      "testId": "test-117",
      "description": "D Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Dm",
        "Bb",
        "C",
        "Dm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Mixolydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.233Z"
    },
    {
      "testId": "test-118",
      "description": "D Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Ddim",
        "Eb",
        "Abm",
        "Ddim"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "D Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "D Locrian (D E♭ F G A♭ B♭ C) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.233Z"
    },
    {
      "testId": "test-119",
      "description": "D Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Ddim",
        "Eb",
        "Ddim"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "D Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Locrian (D E♭ F G A♭ B♭ C) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.234Z"
    },
    {
      "testId": "test-120",
      "description": "D Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dm7b5",
        "Eb",
        "Dm7b5"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "D Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Locrian (D E♭ F G A♭ B♭ C) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.234Z"
    },
    {
      "testId": "test-121",
      "description": "D Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Ddim",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "D Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "D Locrian (D E♭ F G A♭ B♭ C) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.234Z"
    },
    {
      "testId": "test-122",
      "description": "D Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Ddim",
        "A7",
        "Ddim"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Locrian (D E♭ F G A♭ B♭ C) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.234Z"
    },
    {
      "testId": "test-123",
      "description": "D Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Ddim",
        "Eb",
        "Abm",
        "Ddim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "D Locrian ♭7♭5",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.235Z"
    },
    {
      "testId": "test-124",
      "description": "Eb Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "Eb",
        "Ab",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Eb Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Ionian (D# E♯ F♯♯ G♯ A♯ B♯ C♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.235Z"
    },
    {
      "testId": "test-125",
      "description": "Eb Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Ebmaj7",
        "Abmaj7",
        "Ebmaj7"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Eb Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Ionian (D# E♯ F♯♯ G♯ A♯ B♯ C♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.235Z"
    },
    {
      "testId": "test-126",
      "description": "Eb Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Eb",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Eb Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Ionian (D# E♯ F♯♯ G♯ A♯ B♯ C♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.236Z"
    },
    {
      "testId": "test-127",
      "description": "Eb Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Eb",
        "Bb",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Ionian (D# E♯ F♯♯ G♯ A♯ B♯ C♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.236Z"
    },
    {
      "testId": "test-128",
      "description": "Eb Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Ebm",
        "Ab",
        "Db",
        "Ebm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Eb Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Dorian (D# E♯ F♯ G♯ A♯ B♯ C♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.236Z"
    },
    {
      "testId": "test-129",
      "description": "Eb Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Ebm",
        "Ab",
        "Ebm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Eb Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Dorian (D# E♯ F♯ G♯ A♯ B♯ C♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.237Z"
    },
    {
      "testId": "test-130",
      "description": "Eb Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Ebm7",
        "Abmaj7",
        "Ebm7"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Eb Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Dorian (D# E♯ F♯ G♯ A♯ B♯ C♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.237Z"
    },
    {
      "testId": "test-131",
      "description": "Eb Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Ebm",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Eb Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Dorian (D# E♯ F♯ G♯ A♯ B♯ C♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.238Z"
    },
    {
      "testId": "test-132",
      "description": "Eb Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Ebm",
        "Abm",
        "Ebm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Dorian (D# E♯ F♯ G♯ A♯ B♯ C♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.238Z"
    },
    {
      "testId": "test-133",
      "description": "Eb Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Ebm",
        "Ab",
        "Db",
        "Ebm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Locrian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.238Z"
    },
    {
      "testId": "test-134",
      "description": "Eb Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Ebm",
        "E",
        "Db",
        "Ebm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Eb Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Phrygian (D# E F♯ G♯ A♯ B C♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.239Z"
    },
    {
      "testId": "test-135",
      "description": "Eb Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Ebm",
        "E",
        "Ebm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Eb Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Phrygian (D# E F♯ G♯ A♯ B C♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.239Z"
    },
    {
      "testId": "test-136",
      "description": "Eb Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Ebm7",
        "E",
        "Ebm7"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Eb Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Phrygian (D# E F♯ G♯ A♯ B C♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.239Z"
    },
    {
      "testId": "test-137",
      "description": "Eb Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Ebm",
        "E"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Eb Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "D# Phrygian (D# E F♯ G♯ A♯ B C♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.240Z"
    },
    {
      "testId": "test-138",
      "description": "Eb Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Ebm",
        "F",
        "Ebm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Phrygian (D# E F♯ G♯ A♯ B C♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.244Z"
    },
    {
      "testId": "test-139",
      "description": "Eb Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Ebm",
        "E",
        "Db",
        "Ebm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "D# Mixolydian (D# E♯ F♯♯ G♯ A♯ B♯ C♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.251Z"
    },
    {
      "testId": "test-140",
      "description": "Eb Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "Eb",
        "F",
        "Bb",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "Eb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Lydian (D# E♯ F♯♯ G♯♯ A♯ B♯ C♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.252Z"
    },
    {
      "testId": "test-141",
      "description": "Eb Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "Eb",
        "F",
        "Eb",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "Eb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "D# Lydian (D# E♯ F♯♯ G♯♯ A♯ B♯ C♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.252Z"
    },
    {
      "testId": "test-142",
      "description": "Eb Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "Eb",
        "F",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "Eb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Lydian (D# E♯ F♯♯ G♯♯ A♯ B♯ C♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.253Z"
    },
    {
      "testId": "test-143",
      "description": "Eb Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Ebmaj7",
        "F",
        "Ebmaj7"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "Eb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Lydian (D# E♯ F♯♯ G♯♯ A♯ B♯ C♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.253Z"
    },
    {
      "testId": "test-144",
      "description": "Eb Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Eb",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "Eb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "D# Lydian (D# E♯ F♯♯ G♯♯ A♯ B♯ C♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.253Z"
    },
    {
      "testId": "test-145",
      "description": "Eb Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Eb",
        "Bb",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Lydian (D# E♯ F♯♯ G♯♯ A♯ B♯ C♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.254Z"
    },
    {
      "testId": "test-146",
      "description": "Eb Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Eb",
        "F",
        "Bb",
        "Eb"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Dorian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.254Z"
    },
    {
      "testId": "test-147",
      "description": "Eb Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "Eb",
        "Db",
        "Ab",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Eb Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Mixolydian (D# E♯ F♯♯ G♯ A♯ B♯ C♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.256Z"
    },
    {
      "testId": "test-148",
      "description": "Eb Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "Eb",
        "Db",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Eb Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Mixolydian (D# E♯ F♯♯ G♯ A♯ B♯ C♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.257Z"
    },
    {
      "testId": "test-149",
      "description": "Eb Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "Eb7",
        "Ab",
        "Eb7"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Eb Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Mixolydian (D# E♯ F♯♯ G♯ A♯ B♯ C♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.257Z"
    },
    {
      "testId": "test-150",
      "description": "Eb Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Eb",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Eb Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Mixolydian (D# E♯ F♯♯ G♯ A♯ B♯ C♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.257Z"
    },
    {
      "testId": "test-151",
      "description": "Eb Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Eb",
        "Bb",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Mixolydian (D# E♯ F♯♯ G♯ A♯ B♯ C♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.258Z"
    },
    {
      "testId": "test-152",
      "description": "Eb Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Eb",
        "Db",
        "Ab",
        "Eb"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Phrygian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.260Z"
    },
    {
      "testId": "test-153",
      "description": "Eb Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Ebm",
        "Cb",
        "Db",
        "Ebm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Eb Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Aeolian (D# E♯ F♯ G♯ A♯ B C♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.261Z"
    },
    {
      "testId": "test-154",
      "description": "Eb Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Ebm",
        "Db",
        "Ebm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Eb Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Aeolian (D# E♯ F♯ G♯ A♯ B C♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.262Z"
    },
    {
      "testId": "test-155",
      "description": "Eb Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Ebm7",
        "Cb",
        "Db",
        "Ebm7"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Eb Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Aeolian (D# E♯ F♯ G♯ A♯ B C♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.264Z"
    },
    {
      "testId": "test-156",
      "description": "Eb Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Ebm",
        "Db"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Eb Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "D# Aeolian (D# E♯ F♯ G♯ A♯ B C♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.265Z"
    },
    {
      "testId": "test-157",
      "description": "Eb Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Ebm",
        "Bb7",
        "Ebm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Aeolian (D# E♯ F♯ G♯ A♯ B C♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.266Z"
    },
    {
      "testId": "test-158",
      "description": "Eb Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Ebm",
        "Cb",
        "Db",
        "Ebm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "D# Mixolydian (D# E♯ F♯♯ G♯ A♯ B♯ C♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.267Z"
    },
    {
      "testId": "test-159",
      "description": "Eb Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Ebdim",
        "E",
        "Am",
        "Ebdim"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Eb Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "D# Locrian (D# E F♯ G♯ A B C♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.267Z"
    },
    {
      "testId": "test-160",
      "description": "Eb Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Ebdim",
        "E",
        "Ebdim"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Eb Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Locrian (D# E F♯ G♯ A B C♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.268Z"
    },
    {
      "testId": "test-161",
      "description": "Eb Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Ebm7b5",
        "E",
        "Ebm7b5"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Eb Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D# Locrian (D# E F♯ G♯ A B C♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.269Z"
    },
    {
      "testId": "test-162",
      "description": "Eb Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Ebdim",
        "E"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Eb Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "D# Locrian (D# E F♯ G♯ A B C♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.269Z"
    },
    {
      "testId": "test-163",
      "description": "Eb Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Ebdim",
        "Bb7",
        "Ebdim"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Locrian (D# E F♯ G♯ A B C♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.270Z"
    },
    {
      "testId": "test-164",
      "description": "Eb Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Ebdim",
        "E",
        "Am",
        "Ebdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Eb Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "D# Lydian (D# E♯ F♯♯ G♯♯ A♯ B♯ C♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.270Z"
    },
    {
      "testId": "test-165",
      "description": "E Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "E",
        "A",
        "E"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "E Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Ionian (E F♯ G♯ A B C♯ D♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.272Z"
    },
    {
      "testId": "test-166",
      "description": "E Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Emaj7",
        "Amaj7",
        "Emaj7"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "E Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Ionian (E F♯ G♯ A B C♯ D♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.272Z"
    },
    {
      "testId": "test-167",
      "description": "E Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "E",
        "A"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "E Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Ionian (E F♯ G♯ A B C♯ D♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.273Z"
    },
    {
      "testId": "test-168",
      "description": "E Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "E",
        "B",
        "E"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Ionian (E F♯ G♯ A B C♯ D♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.275Z"
    },
    {
      "testId": "test-169",
      "description": "E Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "A",
        "D",
        "Em"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "E Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.276Z"
    },
    {
      "testId": "test-170",
      "description": "E Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "A",
        "Em"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "E Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.278Z"
    },
    {
      "testId": "test-171",
      "description": "E Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Em7",
        "Amaj7",
        "Em7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "E Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.279Z"
    },
    {
      "testId": "test-172",
      "description": "E Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Em",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "E Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.279Z"
    },
    {
      "testId": "test-173",
      "description": "E Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Em",
        "Am",
        "Em"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.280Z"
    },
    {
      "testId": "test-174",
      "description": "E Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Em",
        "A",
        "D",
        "Em"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.280Z"
    },
    {
      "testId": "test-175",
      "description": "E Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "F",
        "D",
        "Em"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "E Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.280Z"
    },
    {
      "testId": "test-176",
      "description": "E Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "F",
        "Em"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "E Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.280Z"
    },
    {
      "testId": "test-177",
      "description": "E Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Em7",
        "F",
        "Em7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "E Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.281Z"
    },
    {
      "testId": "test-178",
      "description": "E Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Em",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "E Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.282Z"
    },
    {
      "testId": "test-179",
      "description": "E Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Em",
        "F#",
        "Em"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.282Z"
    },
    {
      "testId": "test-180",
      "description": "E Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Em",
        "F",
        "D",
        "Em"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.282Z"
    },
    {
      "testId": "test-181",
      "description": "E Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "E",
        "F#",
        "B",
        "E"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "E Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Lydian (E F♯ G♯ A♯ B C♯ D♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.282Z"
    },
    {
      "testId": "test-182",
      "description": "E Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "E",
        "F#",
        "E",
        "F#"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "E Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "E Lydian (E F♯ G♯ A♯ B C♯ D♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.283Z"
    },
    {
      "testId": "test-183",
      "description": "E Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "E",
        "F#",
        "E"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "E Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Lydian (E F♯ G♯ A♯ B C♯ D♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.283Z"
    },
    {
      "testId": "test-184",
      "description": "E Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Emaj7",
        "F#",
        "Emaj7"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "E Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Lydian (E F♯ G♯ A♯ B C♯ D♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.284Z"
    },
    {
      "testId": "test-185",
      "description": "E Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "E",
        "F#"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "E Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "E Lydian (E F♯ G♯ A♯ B C♯ D♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.284Z"
    },
    {
      "testId": "test-186",
      "description": "E Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "E",
        "B",
        "E"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Lydian (E F♯ G♯ A♯ B C♯ D♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.285Z"
    },
    {
      "testId": "test-187",
      "description": "E Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "E",
        "F#",
        "B",
        "E"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.285Z"
    },
    {
      "testId": "test-188",
      "description": "E Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "E",
        "D",
        "A",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "E Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.285Z"
    },
    {
      "testId": "test-189",
      "description": "E Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "E",
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "E Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.286Z"
    },
    {
      "testId": "test-190",
      "description": "E Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "E7",
        "A",
        "E7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "E Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.286Z"
    },
    {
      "testId": "test-191",
      "description": "E Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "E Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.286Z"
    },
    {
      "testId": "test-192",
      "description": "E Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "E",
        "B",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.286Z"
    },
    {
      "testId": "test-193",
      "description": "E Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "E",
        "D",
        "A",
        "E"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.287Z"
    },
    {
      "testId": "test-194",
      "description": "E Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "C",
        "D",
        "Em"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "E Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.287Z"
    },
    {
      "testId": "test-195",
      "description": "E Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "D",
        "Em"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "E Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.287Z"
    },
    {
      "testId": "test-196",
      "description": "E Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Em7",
        "C",
        "D",
        "Em7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "E Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.288Z"
    },
    {
      "testId": "test-197",
      "description": "E Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Em",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "E Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.288Z"
    },
    {
      "testId": "test-198",
      "description": "E Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Em",
        "B7",
        "Em"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.288Z"
    },
    {
      "testId": "test-199",
      "description": "E Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Em",
        "C",
        "D",
        "Em"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.288Z"
    },
    {
      "testId": "test-200",
      "description": "E Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Edim",
        "F",
        "Bbm",
        "Edim"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "E Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "E Locrian (E F G A B♭ C D) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.289Z"
    },
    {
      "testId": "test-201",
      "description": "E Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Edim",
        "F",
        "Edim"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "E Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Locrian (E F G A B♭ C D) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.289Z"
    },
    {
      "testId": "test-202",
      "description": "E Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Em7b5",
        "F",
        "Em7b5"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "E Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Locrian (E F G A B♭ C D) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.289Z"
    },
    {
      "testId": "test-203",
      "description": "E Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Edim",
        "F"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "E Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "E Locrian (E F G A B♭ C D) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.290Z"
    },
    {
      "testId": "test-204",
      "description": "E Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Edim",
        "B7",
        "Edim"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Locrian (E F G A B♭ C D) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.290Z"
    },
    {
      "testId": "test-205",
      "description": "E Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Edim",
        "F",
        "Bbm",
        "Edim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Mixolydian ♭2",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.290Z"
    },
    {
      "testId": "test-206",
      "description": "F Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "Bb",
        "F"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "F Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Ionian (F G A B♭ C D E) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.291Z"
    },
    {
      "testId": "test-207",
      "description": "F Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Fmaj7",
        "Bbmaj7",
        "Fmaj7"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "F Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Ionian (F G A B♭ C D E) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.291Z"
    },
    {
      "testId": "test-208",
      "description": "F Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F",
        "Bb"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "F Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Ionian (F G A B♭ C D E) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.291Z"
    },
    {
      "testId": "test-209",
      "description": "F Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "F",
        "C",
        "F"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Ionian (F G A B♭ C D E) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.292Z"
    },
    {
      "testId": "test-210",
      "description": "F Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Fm",
        "Bb",
        "Eb",
        "Fm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "F Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Dorian (F G A♭ B♭ C D E♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.292Z"
    },
    {
      "testId": "test-211",
      "description": "F Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Fm",
        "Bb",
        "Fm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "F Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Dorian (F G A♭ B♭ C D E♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.294Z"
    },
    {
      "testId": "test-212",
      "description": "F Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Fm7",
        "Bbmaj7",
        "Fm7"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "F Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Dorian (F G A♭ B♭ C D E♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.295Z"
    },
    {
      "testId": "test-213",
      "description": "F Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Fm",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "F Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Dorian (F G A♭ B♭ C D E♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.295Z"
    },
    {
      "testId": "test-214",
      "description": "F Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Fm",
        "Bbm",
        "Fm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Dorian (F G A♭ B♭ C D E♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.296Z"
    },
    {
      "testId": "test-215",
      "description": "F Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Fm",
        "Bb",
        "Eb",
        "Fm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Aeolian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.296Z"
    },
    {
      "testId": "test-216",
      "description": "F Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Fm",
        "Gb",
        "Eb",
        "Fm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Phrygian (F G♭ A♭ B♭ C D♭ E♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.296Z"
    },
    {
      "testId": "test-217",
      "description": "F Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Fm",
        "Gb",
        "Fm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Phrygian (F G♭ A♭ B♭ C D♭ E♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.296Z"
    },
    {
      "testId": "test-218",
      "description": "F Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Fm7",
        "Gb",
        "Fm7"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Phrygian (F G♭ A♭ B♭ C D♭ E♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.297Z"
    },
    {
      "testId": "test-219",
      "description": "F Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Fm",
        "Gb"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "F Phrygian (F G♭ A♭ B♭ C D♭ E♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.297Z"
    },
    {
      "testId": "test-220",
      "description": "F Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Fm",
        "G",
        "Fm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Phrygian (F G♭ A♭ B♭ C D♭ E♭) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.297Z"
    },
    {
      "testId": "test-221",
      "description": "F Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Fm",
        "Gb",
        "Eb",
        "Fm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Phrygian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.297Z"
    },
    {
      "testId": "test-222",
      "description": "F Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "G",
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.298Z"
    },
    {
      "testId": "test-223",
      "description": "F Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "G",
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.298Z"
    },
    {
      "testId": "test-224",
      "description": "F Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "G",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.298Z"
    },
    {
      "testId": "test-225",
      "description": "F Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Fmaj7",
        "G",
        "Fmaj7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.299Z"
    },
    {
      "testId": "test-226",
      "description": "F Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.299Z"
    },
    {
      "testId": "test-227",
      "description": "F Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "F",
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.299Z"
    },
    {
      "testId": "test-228",
      "description": "F Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F",
        "G",
        "C",
        "F"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.299Z"
    },
    {
      "testId": "test-229",
      "description": "F Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "Eb",
        "Bb",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "F Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Mixolydian (F G A B♭ C D E♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.299Z"
    },
    {
      "testId": "test-230",
      "description": "F Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "Eb",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "F Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Mixolydian (F G A B♭ C D E♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.300Z"
    },
    {
      "testId": "test-231",
      "description": "F Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "F7",
        "Bb",
        "F7"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "F Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Mixolydian (F G A B♭ C D E♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.300Z"
    },
    {
      "testId": "test-232",
      "description": "F Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "F Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Mixolydian (F G A B♭ C D E♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.300Z"
    },
    {
      "testId": "test-233",
      "description": "F Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "F",
        "C",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Mixolydian (F G A B♭ C D E♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.301Z"
    },
    {
      "testId": "test-234",
      "description": "F Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F",
        "Eb",
        "Bb",
        "F"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Dorian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.301Z"
    },
    {
      "testId": "test-235",
      "description": "F Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Fm",
        "Db",
        "Eb",
        "Fm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "F Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Aeolian (F G A♭ B♭ C D♭ E♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.301Z"
    },
    {
      "testId": "test-236",
      "description": "F Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Fm",
        "Eb",
        "Fm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "F Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Aeolian (F G A♭ B♭ C D♭ E♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.301Z"
    },
    {
      "testId": "test-237",
      "description": "F Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Fm7",
        "Db",
        "Eb",
        "Fm7"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "F Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Aeolian (F G A♭ B♭ C D♭ E♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.301Z"
    },
    {
      "testId": "test-238",
      "description": "F Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Fm",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "F Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "F Aeolian (F G A♭ B♭ C D♭ E♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.302Z"
    },
    {
      "testId": "test-239",
      "description": "F Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Fm",
        "C7",
        "Fm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Aeolian (F G A♭ B♭ C D♭ E♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.302Z"
    },
    {
      "testId": "test-240",
      "description": "F Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Fm",
        "Db",
        "Eb",
        "Fm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Phrygian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.302Z"
    },
    {
      "testId": "test-241",
      "description": "F Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Fdim",
        "Gb",
        "Cbm",
        "Fdim"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "F Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "F Locrian (F G♭ A♭ B♭ C♭ D♭ E♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.302Z"
    },
    {
      "testId": "test-242",
      "description": "F Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Fdim",
        "Gb",
        "Fdim"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "F Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Locrian (F G♭ A♭ B♭ C♭ D♭ E♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.303Z"
    },
    {
      "testId": "test-243",
      "description": "F Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Fm7b5",
        "Gb",
        "Fm7b5"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "F Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Locrian (F G♭ A♭ B♭ C♭ D♭ E♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.304Z"
    },
    {
      "testId": "test-244",
      "description": "F Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Fdim",
        "Gb"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "F Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "F Locrian (F G♭ A♭ B♭ C♭ D♭ E♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.304Z"
    },
    {
      "testId": "test-245",
      "description": "F Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Fdim",
        "C7",
        "Fdim"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Locrian (F G♭ A♭ B♭ C♭ D♭ E♭) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.304Z"
    },
    {
      "testId": "test-246",
      "description": "F Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Fdim",
        "Gb",
        "Cbm",
        "Fdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.305Z"
    },
    {
      "testId": "test-247",
      "description": "F# Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "F#",
        "B",
        "F#"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": true,
        "mode": "F# Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Ionian (F# G♯ A♯ B C♯ D♯ E♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.305Z"
    },
    {
      "testId": "test-248",
      "description": "F# Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#maj7",
        "Bmaj7",
        "F#maj7"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": true,
        "mode": "F# Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Ionian (F# G♯ A♯ B C♯ D♯ E♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.305Z"
    },
    {
      "testId": "test-249",
      "description": "F# Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#",
        "B"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": true,
        "mode": "F# Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Ionian (F# G♯ A♯ B C♯ D♯ E♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.305Z"
    },
    {
      "testId": "test-250",
      "description": "F# Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "F#",
        "C#",
        "F#"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Ionian (F# G♯ A♯ B C♯ D♯ E♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.306Z"
    },
    {
      "testId": "test-251",
      "description": "F# Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "B",
        "E",
        "F#m"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "F# Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Dorian (F# G♯ A B C♯ D♯ E) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.306Z"
    },
    {
      "testId": "test-252",
      "description": "F# Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "B",
        "F#m"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "F# Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Dorian (F# G♯ A B C♯ D♯ E) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.306Z"
    },
    {
      "testId": "test-253",
      "description": "F# Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#m7",
        "Bmaj7",
        "F#m7"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "F# Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Dorian (F# G♯ A B C♯ D♯ E) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.306Z"
    },
    {
      "testId": "test-254",
      "description": "F# Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#m",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "F# Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Dorian (F# G♯ A B C♯ D♯ E) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.307Z"
    },
    {
      "testId": "test-255",
      "description": "F# Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "F#m",
        "Bm",
        "F#m"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Dorian (F# G♯ A B C♯ D♯ E) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.307Z"
    },
    {
      "testId": "test-256",
      "description": "F# Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#m",
        "B",
        "E",
        "F#m"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.307Z"
    },
    {
      "testId": "test-257",
      "description": "F# Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "G",
        "E",
        "F#m"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "F# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.309Z"
    },
    {
      "testId": "test-258",
      "description": "F# Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "G",
        "F#m"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "F# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.310Z"
    },
    {
      "testId": "test-259",
      "description": "F# Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#m7",
        "G",
        "F#m7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "F# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.310Z"
    },
    {
      "testId": "test-260",
      "description": "F# Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#m",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "F# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.310Z"
    },
    {
      "testId": "test-261",
      "description": "F# Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "F#m",
        "G#",
        "F#m"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.310Z"
    },
    {
      "testId": "test-262",
      "description": "F# Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#m",
        "G",
        "E",
        "F#m"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.312Z"
    },
    {
      "testId": "test-263",
      "description": "F# Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "F#",
        "Ab",
        "Db",
        "F#"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F# Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Lydian (F# G♯ A♯ B♯ C♯ D♯ E♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.312Z"
    },
    {
      "testId": "test-264",
      "description": "F# Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "F#",
        "Ab",
        "F#",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F# Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "F# Lydian (F# G♯ A♯ B♯ C♯ D♯ E♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.312Z"
    },
    {
      "testId": "test-265",
      "description": "F# Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "F#",
        "Ab",
        "F#"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F# Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Lydian (F# G♯ A♯ B♯ C♯ D♯ E♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.313Z"
    },
    {
      "testId": "test-266",
      "description": "F# Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#maj7",
        "Ab",
        "F#maj7"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F# Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Lydian (F# G♯ A♯ B♯ C♯ D♯ E♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.313Z"
    },
    {
      "testId": "test-267",
      "description": "F# Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "F# Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "F# Lydian (F# G♯ A♯ B♯ C♯ D♯ E♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.313Z"
    },
    {
      "testId": "test-268",
      "description": "F# Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "F#",
        "Db",
        "F#"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Lydian (F# G♯ A♯ B♯ C♯ D♯ E♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.313Z"
    },
    {
      "testId": "test-269",
      "description": "F# Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#",
        "Ab",
        "Db",
        "F#"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Locrian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.314Z"
    },
    {
      "testId": "test-270",
      "description": "F# Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "F#",
        "E",
        "B",
        "F#"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "F# Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.314Z"
    },
    {
      "testId": "test-271",
      "description": "F# Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "F#",
        "E",
        "F#"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "F# Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.314Z"
    },
    {
      "testId": "test-272",
      "description": "F# Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#7",
        "B",
        "F#7"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "F# Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.314Z"
    },
    {
      "testId": "test-273",
      "description": "F# Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#",
        "B"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "F# Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.315Z"
    },
    {
      "testId": "test-274",
      "description": "F# Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "F#",
        "C#",
        "F#"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.315Z"
    },
    {
      "testId": "test-275",
      "description": "F# Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#",
        "E",
        "B",
        "F#"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.315Z"
    },
    {
      "testId": "test-276",
      "description": "F# Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "D",
        "E",
        "F#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "F# Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.316Z"
    },
    {
      "testId": "test-277",
      "description": "F# Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "E",
        "F#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "F# Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.316Z"
    },
    {
      "testId": "test-278",
      "description": "F# Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#m7",
        "D",
        "E",
        "F#m7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "F# Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.317Z"
    },
    {
      "testId": "test-279",
      "description": "F# Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#m",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "F# Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.317Z"
    },
    {
      "testId": "test-280",
      "description": "F# Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "F#m",
        "C#7",
        "F#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.317Z"
    },
    {
      "testId": "test-281",
      "description": "F# Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#m",
        "D",
        "E",
        "F#m"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.318Z"
    },
    {
      "testId": "test-282",
      "description": "F# Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "F#dim",
        "G",
        "Cm",
        "F#dim"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "F# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.318Z"
    },
    {
      "testId": "test-283",
      "description": "F# Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "F#dim",
        "G",
        "F#dim"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "F# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.318Z"
    },
    {
      "testId": "test-284",
      "description": "F# Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#m7b5",
        "G",
        "F#m7b5"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "F# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.318Z"
    },
    {
      "testId": "test-285",
      "description": "F# Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#dim",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "F# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.319Z"
    },
    {
      "testId": "test-286",
      "description": "F# Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "F#dim",
        "C#7",
        "F#dim"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.319Z"
    },
    {
      "testId": "test-287",
      "description": "F# Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#dim",
        "G",
        "Cm",
        "F#dim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian ♭3",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.319Z"
    },
    {
      "testId": "test-288",
      "description": "G Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "C",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "G Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.319Z"
    },
    {
      "testId": "test-289",
      "description": "G Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Gmaj7",
        "Cmaj7",
        "Gmaj7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "G Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.320Z"
    },
    {
      "testId": "test-290",
      "description": "G Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "G Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.320Z"
    },
    {
      "testId": "test-291",
      "description": "G Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.322Z"
    },
    {
      "testId": "test-292",
      "description": "G Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Gm",
        "C",
        "F",
        "Gm"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "G Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Dorian (G A B♭ C D E F) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.322Z"
    },
    {
      "testId": "test-293",
      "description": "G Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Gm",
        "C",
        "Gm"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "G Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Dorian (G A B♭ C D E F) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.323Z"
    },
    {
      "testId": "test-294",
      "description": "G Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Gm7",
        "Cmaj7",
        "Gm7"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "G Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Dorian (G A B♭ C D E F) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.323Z"
    },
    {
      "testId": "test-295",
      "description": "G Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Gm",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "G Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Dorian (G A B♭ C D E F) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.324Z"
    },
    {
      "testId": "test-296",
      "description": "G Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Gm",
        "Cm",
        "Gm"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Dorian (G A B♭ C D E F) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.324Z"
    },
    {
      "testId": "test-297",
      "description": "G Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Gm",
        "C",
        "F",
        "Gm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Mixolydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.324Z"
    },
    {
      "testId": "test-298",
      "description": "G Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Gm",
        "Ab",
        "F",
        "Gm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "G Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Phrygian (G A♭ B♭ C D E♭ F) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.324Z"
    },
    {
      "testId": "test-299",
      "description": "G Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Gm",
        "Ab",
        "Gm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "G Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Phrygian (G A♭ B♭ C D E♭ F) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.325Z"
    },
    {
      "testId": "test-300",
      "description": "G Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Gm7",
        "Ab",
        "Gm7"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "G Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Phrygian (G A♭ B♭ C D E♭ F) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.325Z"
    },
    {
      "testId": "test-301",
      "description": "G Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Gm",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "G Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "G Phrygian (G A♭ B♭ C D E♭ F) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.325Z"
    },
    {
      "testId": "test-302",
      "description": "G Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Gm",
        "A",
        "Gm"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Phrygian (G A♭ B♭ C D E♭ F) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.326Z"
    },
    {
      "testId": "test-303",
      "description": "G Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Gm",
        "Ab",
        "F",
        "Gm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Aeolian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.326Z"
    },
    {
      "testId": "test-304",
      "description": "G Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "A",
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.326Z"
    },
    {
      "testId": "test-305",
      "description": "G Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "A",
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.326Z"
    },
    {
      "testId": "test-306",
      "description": "G Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "A",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.327Z"
    },
    {
      "testId": "test-307",
      "description": "G Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Gmaj7",
        "A",
        "Gmaj7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.328Z"
    },
    {
      "testId": "test-308",
      "description": "G Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.328Z"
    },
    {
      "testId": "test-309",
      "description": "G Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.329Z"
    },
    {
      "testId": "test-310",
      "description": "G Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "G",
        "A",
        "D",
        "G"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G Dorian (G A B♭ C D E F) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.329Z"
    },
    {
      "testId": "test-311",
      "description": "G Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.329Z"
    },
    {
      "testId": "test-312",
      "description": "G Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.329Z"
    },
    {
      "testId": "test-313",
      "description": "G Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "G7",
        "C",
        "G7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.330Z"
    },
    {
      "testId": "test-314",
      "description": "G Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.330Z"
    },
    {
      "testId": "test-315",
      "description": "G Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.330Z"
    },
    {
      "testId": "test-316",
      "description": "G Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.330Z"
    },
    {
      "testId": "test-317",
      "description": "G Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Gm",
        "Eb",
        "F",
        "Gm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "G Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Aeolian (G A B♭ C D E♭ F) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.331Z"
    },
    {
      "testId": "test-318",
      "description": "G Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Gm",
        "F",
        "Gm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "G Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Aeolian (G A B♭ C D E♭ F) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.331Z"
    },
    {
      "testId": "test-319",
      "description": "G Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Gm7",
        "Eb",
        "F",
        "Gm7"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "G Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Aeolian (G A B♭ C D E♭ F) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.331Z"
    },
    {
      "testId": "test-320",
      "description": "G Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Gm",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "G Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "G Aeolian (G A B♭ C D E♭ F) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.332Z"
    },
    {
      "testId": "test-321",
      "description": "G Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Gm",
        "D7",
        "Gm"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Aeolian (G A B♭ C D E♭ F) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.332Z"
    },
    {
      "testId": "test-322",
      "description": "G Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Gm",
        "Eb",
        "F",
        "Gm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Dorian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.332Z"
    },
    {
      "testId": "test-323",
      "description": "G Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Gdim",
        "Ab",
        "Dbm",
        "Gdim"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "G Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "G Locrian (G A♭ B♭ C D♭ E♭ F) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.332Z"
    },
    {
      "testId": "test-324",
      "description": "G Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Gdim",
        "Ab",
        "Gdim"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "G Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Locrian (G A♭ B♭ C D♭ E♭ F) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.333Z"
    },
    {
      "testId": "test-325",
      "description": "G Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Gm7b5",
        "Ab",
        "Gm7b5"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "G Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Locrian (G A♭ B♭ C D♭ E♭ F) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.333Z"
    },
    {
      "testId": "test-326",
      "description": "G Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Gdim",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "G Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "G Locrian (G A♭ B♭ C D♭ E♭ F) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.333Z"
    },
    {
      "testId": "test-327",
      "description": "G Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Gdim",
        "D7",
        "Gdim"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Locrian (G A♭ B♭ C D♭ E♭ F) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.333Z"
    },
    {
      "testId": "test-328",
      "description": "G Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Gdim",
        "Ab",
        "Dbm",
        "Gdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Phrygian ♭4",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.334Z"
    },
    {
      "testId": "test-329",
      "description": "Ab Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "Ab",
        "Db",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Ab Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Ionian (G# A♯ B♯ C♯ D♯ E♯ F♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.334Z"
    },
    {
      "testId": "test-330",
      "description": "Ab Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Abmaj7",
        "Dbmaj7",
        "Abmaj7"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Ab Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Ionian (G# A♯ B♯ C♯ D♯ E♯ F♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.334Z"
    },
    {
      "testId": "test-331",
      "description": "Ab Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Ab",
        "Db"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Ab Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Ionian (G# A♯ B♯ C♯ D♯ E♯ F♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.334Z"
    },
    {
      "testId": "test-332",
      "description": "Ab Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Ab",
        "Eb",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Ionian (G# A♯ B♯ C♯ D♯ E♯ F♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.335Z"
    },
    {
      "testId": "test-333",
      "description": "Ab Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Abm",
        "Db",
        "Gb",
        "Abm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Ab Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Dorian (G# A♯ B C♯ D♯ E♯ F♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.335Z"
    },
    {
      "testId": "test-334",
      "description": "Ab Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Abm",
        "Db",
        "Abm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Ab Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Dorian (G# A♯ B C♯ D♯ E♯ F♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.335Z"
    },
    {
      "testId": "test-335",
      "description": "Ab Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Abm7",
        "Dbmaj7",
        "Abm7"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Ab Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Dorian (G# A♯ B C♯ D♯ E♯ F♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.335Z"
    },
    {
      "testId": "test-336",
      "description": "Ab Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Abm",
        "Db"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Ab Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Dorian (G# A♯ B C♯ D♯ E♯ F♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.336Z"
    },
    {
      "testId": "test-337",
      "description": "Ab Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Abm",
        "Dbm",
        "Abm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Dorian (G# A♯ B C♯ D♯ E♯ F♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.336Z"
    },
    {
      "testId": "test-338",
      "description": "Ab Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Abm",
        "Db",
        "Gb",
        "Abm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G# Mixolydian (G# A♯ B♯ C♯ D♯ E♯ F♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.336Z"
    },
    {
      "testId": "test-339",
      "description": "Ab Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Abm",
        "A",
        "Gb",
        "Abm"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Ab Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Phrygian (G# A B C♯ D♯ E F♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.337Z"
    },
    {
      "testId": "test-340",
      "description": "Ab Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Abm",
        "A",
        "Abm"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Ab Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Phrygian (G# A B C♯ D♯ E F♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.338Z"
    },
    {
      "testId": "test-341",
      "description": "Ab Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Abm7",
        "A",
        "Abm7"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Ab Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Phrygian (G# A B C♯ D♯ E F♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.338Z"
    },
    {
      "testId": "test-342",
      "description": "Ab Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Abm",
        "A"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "Ab Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "G# Phrygian (G# A B C♯ D♯ E F♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.342Z"
    },
    {
      "testId": "test-343",
      "description": "Ab Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Abm",
        "Bb",
        "Abm"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Phrygian (G# A B C♯ D♯ E F♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.343Z"
    },
    {
      "testId": "test-344",
      "description": "Ab Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Abm",
        "A",
        "Gb",
        "Abm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G# Mixolydian (G# A♯ B♯ C♯ D♯ E♯ F♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.343Z"
    },
    {
      "testId": "test-345",
      "description": "Ab Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "Ab",
        "Bb",
        "Eb",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Ab Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Lydian (G# A♯ B♯ C♯♯ D♯ E♯ F♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.343Z"
    },
    {
      "testId": "test-346",
      "description": "Ab Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "Ab",
        "Bb",
        "Ab",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Ab Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "G# Lydian (G# A♯ B♯ C♯♯ D♯ E♯ F♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.344Z"
    },
    {
      "testId": "test-347",
      "description": "Ab Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "Ab",
        "Bb",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Ab Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Lydian (G# A♯ B♯ C♯♯ D♯ E♯ F♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.344Z"
    },
    {
      "testId": "test-348",
      "description": "Ab Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Abmaj7",
        "Bb",
        "Abmaj7"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Ab Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Lydian (G# A♯ B♯ C♯♯ D♯ E♯ F♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.345Z"
    },
    {
      "testId": "test-349",
      "description": "Ab Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Ab",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Ab Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "G# Lydian (G# A♯ B♯ C♯♯ D♯ E♯ F♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.345Z"
    },
    {
      "testId": "test-350",
      "description": "Ab Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Ab",
        "Eb",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Lydian (G# A♯ B♯ C♯♯ D♯ E♯ F♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.345Z"
    },
    {
      "testId": "test-351",
      "description": "Ab Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Ab",
        "Bb",
        "Eb",
        "Ab"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Aeolian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.345Z"
    },
    {
      "testId": "test-352",
      "description": "Ab Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "Ab",
        "Gb",
        "Db",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Ab Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Mixolydian (G# A♯ B♯ C♯ D♯ E♯ F♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.346Z"
    },
    {
      "testId": "test-353",
      "description": "Ab Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "Ab",
        "Gb",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Ab Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Mixolydian (G# A♯ B♯ C♯ D♯ E♯ F♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.346Z"
    },
    {
      "testId": "test-354",
      "description": "Ab Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "Ab7",
        "Db",
        "Ab7"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Ab Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Mixolydian (G# A♯ B♯ C♯ D♯ E♯ F♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.346Z"
    },
    {
      "testId": "test-355",
      "description": "Ab Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Ab",
        "Db"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Ab Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Mixolydian (G# A♯ B♯ C♯ D♯ E♯ F♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.347Z"
    },
    {
      "testId": "test-356",
      "description": "Ab Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Ab",
        "Eb",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Mixolydian (G# A♯ B♯ C♯ D♯ E♯ F♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.347Z"
    },
    {
      "testId": "test-357",
      "description": "Ab Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Ab",
        "Gb",
        "Db",
        "Ab"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Locrian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.347Z"
    },
    {
      "testId": "test-358",
      "description": "Ab Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Abm",
        "E",
        "Gb",
        "Abm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Ab Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Aeolian (G# A♯ B C♯ D♯ E F♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.347Z"
    },
    {
      "testId": "test-359",
      "description": "Ab Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Abm",
        "Gb",
        "Abm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Ab Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Aeolian (G# A♯ B C♯ D♯ E F♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.349Z"
    },
    {
      "testId": "test-360",
      "description": "Ab Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Abm7",
        "E",
        "Gb",
        "Abm7"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Ab Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Aeolian (G# A♯ B C♯ D♯ E F♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.350Z"
    },
    {
      "testId": "test-361",
      "description": "Ab Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Abm",
        "Gb"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Ab Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "G# Aeolian (G# A♯ B C♯ D♯ E F♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.350Z"
    },
    {
      "testId": "test-362",
      "description": "Ab Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Abm",
        "Eb7",
        "Abm"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Aeolian (G# A♯ B C♯ D♯ E F♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.350Z"
    },
    {
      "testId": "test-363",
      "description": "Ab Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Abm",
        "E",
        "Gb",
        "Abm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G# Mixolydian (G# A♯ B♯ C♯ D♯ E♯ F♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.351Z"
    },
    {
      "testId": "test-364",
      "description": "Ab Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Abdim",
        "A",
        "Dm",
        "Abdim"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "Ab Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.351Z"
    },
    {
      "testId": "test-365",
      "description": "Ab Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Abdim",
        "A",
        "Abdim"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "Ab Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.351Z"
    },
    {
      "testId": "test-366",
      "description": "Ab Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Abm7b5",
        "A",
        "Abm7b5"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "Ab Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.352Z"
    },
    {
      "testId": "test-367",
      "description": "Ab Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Abdim",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "Ab Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.353Z"
    },
    {
      "testId": "test-368",
      "description": "Ab Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Abdim",
        "Eb7",
        "Abdim"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.354Z"
    },
    {
      "testId": "test-369",
      "description": "Ab Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Abdim",
        "A",
        "Dm",
        "Abdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Ab Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G# Lydian (G# A♯ B♯ C♯♯ D♯ E♯ F♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.354Z"
    },
    {
      "testId": "test-370",
      "description": "A Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "D",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "A Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.355Z"
    },
    {
      "testId": "test-371",
      "description": "A Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Amaj7",
        "Dmaj7",
        "Amaj7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "A Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.355Z"
    },
    {
      "testId": "test-372",
      "description": "A Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "A Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.356Z"
    },
    {
      "testId": "test-373",
      "description": "A Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.356Z"
    },
    {
      "testId": "test-374",
      "description": "A Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "D",
        "G",
        "Am"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "A Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.356Z"
    },
    {
      "testId": "test-375",
      "description": "A Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "D",
        "Am"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "A Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.356Z"
    },
    {
      "testId": "test-376",
      "description": "A Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Am7",
        "Dmaj7",
        "Am7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "A Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.357Z"
    },
    {
      "testId": "test-377",
      "description": "A Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Am",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "A Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.357Z"
    },
    {
      "testId": "test-378",
      "description": "A Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Am",
        "Dm",
        "Am"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.357Z"
    },
    {
      "testId": "test-379",
      "description": "A Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Am",
        "D",
        "G",
        "Am"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.357Z"
    },
    {
      "testId": "test-380",
      "description": "A Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "Bb",
        "G",
        "Am"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "A Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Phrygian (A B♭ C D E F G) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.357Z"
    },
    {
      "testId": "test-381",
      "description": "A Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "Bb",
        "Am"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "A Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Phrygian (A B♭ C D E F G) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.358Z"
    },
    {
      "testId": "test-382",
      "description": "A Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Am7",
        "Bb",
        "Am7"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "A Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Phrygian (A B♭ C D E F G) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.358Z"
    },
    {
      "testId": "test-383",
      "description": "A Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Am",
        "Bb"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "A Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "A Phrygian (A B♭ C D E F G) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.359Z"
    },
    {
      "testId": "test-384",
      "description": "A Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Am",
        "B",
        "Am"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Phrygian (A B♭ C D E F G) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.359Z"
    },
    {
      "testId": "test-385",
      "description": "A Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Am",
        "Bb",
        "G",
        "Am"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.359Z"
    },
    {
      "testId": "test-386",
      "description": "A Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "B",
        "E",
        "A"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "A Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Lydian (A B C♯ D♯ E F♯ G♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.360Z"
    },
    {
      "testId": "test-387",
      "description": "A Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "B",
        "A",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "A Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "A Lydian (A B C♯ D♯ E F♯ G♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.360Z"
    },
    {
      "testId": "test-388",
      "description": "A Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "B",
        "A"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "A Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Lydian (A B C♯ D♯ E F♯ G♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.360Z"
    },
    {
      "testId": "test-389",
      "description": "A Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Amaj7",
        "B",
        "Amaj7"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "A Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Lydian (A B C♯ D♯ E F♯ G♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.361Z"
    },
    {
      "testId": "test-390",
      "description": "A Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "A",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "A Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "A Lydian (A B C♯ D♯ E F♯ G♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.361Z"
    },
    {
      "testId": "test-391",
      "description": "A Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Lydian (A B C♯ D♯ E F♯ G♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.361Z"
    },
    {
      "testId": "test-392",
      "description": "A Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "A",
        "B",
        "E",
        "A"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.361Z"
    },
    {
      "testId": "test-393",
      "description": "A Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.362Z"
    },
    {
      "testId": "test-394",
      "description": "A Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.362Z"
    },
    {
      "testId": "test-395",
      "description": "A Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "A7",
        "D",
        "A7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.363Z"
    },
    {
      "testId": "test-396",
      "description": "A Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.363Z"
    },
    {
      "testId": "test-397",
      "description": "A Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.363Z"
    },
    {
      "testId": "test-398",
      "description": "A Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.363Z"
    },
    {
      "testId": "test-399",
      "description": "A Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "F",
        "G",
        "Am"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "A Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.363Z"
    },
    {
      "testId": "test-400",
      "description": "A Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "G",
        "Am"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "A Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.364Z"
    },
    {
      "testId": "test-401",
      "description": "A Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Am7",
        "F",
        "G",
        "Am7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "A Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.364Z"
    },
    {
      "testId": "test-402",
      "description": "A Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Am",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "A Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.364Z"
    },
    {
      "testId": "test-403",
      "description": "A Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Am",
        "E7",
        "Am"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.365Z"
    },
    {
      "testId": "test-404",
      "description": "A Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Am",
        "F",
        "G",
        "Am"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.366Z"
    },
    {
      "testId": "test-405",
      "description": "A Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Adim",
        "Bb",
        "Ebm",
        "Adim"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "A Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "A Locrian (A B♭ C D E♭ F G) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.366Z"
    },
    {
      "testId": "test-406",
      "description": "A Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Adim",
        "Bb",
        "Adim"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "A Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Locrian (A B♭ C D E♭ F G) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.366Z"
    },
    {
      "testId": "test-407",
      "description": "A Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Am7b5",
        "Bb",
        "Am7b5"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "A Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Locrian (A B♭ C D E♭ F G) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.367Z"
    },
    {
      "testId": "test-408",
      "description": "A Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Adim",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "A Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "A Locrian (A B♭ C D E♭ F G) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.367Z"
    },
    {
      "testId": "test-409",
      "description": "A Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Adim",
        "E7",
        "Adim"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Locrian (A B♭ C D E♭ F G) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.367Z"
    },
    {
      "testId": "test-410",
      "description": "A Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Adim",
        "Bb",
        "Ebm",
        "Adim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Dorian ♭5",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.368Z"
    },
    {
      "testId": "test-411",
      "description": "Bb Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "Bb",
        "Eb",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "Bb Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Ionian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.368Z"
    },
    {
      "testId": "test-412",
      "description": "Bb Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bbmaj7",
        "Ebmaj7",
        "Bbmaj7"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "Bb Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Ionian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.369Z"
    },
    {
      "testId": "test-413",
      "description": "Bb Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bb",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": true,
        "mode": "Bb Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Ionian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.369Z"
    },
    {
      "testId": "test-414",
      "description": "Bb Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Bb",
        "F",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Ionian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.369Z"
    },
    {
      "testId": "test-415",
      "description": "Bb Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bbm",
        "Eb",
        "Ab",
        "Bbm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Bb Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Dorian (A# B♯ C♯ D♯ E♯ F♯♯ G♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.369Z"
    },
    {
      "testId": "test-416",
      "description": "Bb Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Bbm",
        "Eb",
        "Bbm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Bb Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Dorian (A# B♯ C♯ D♯ E♯ F♯♯ G♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.370Z"
    },
    {
      "testId": "test-417",
      "description": "Bb Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bbm7",
        "Ebmaj7",
        "Bbm7"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Bb Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Dorian (A# B♯ C♯ D♯ E♯ F♯♯ G♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.370Z"
    },
    {
      "testId": "test-418",
      "description": "Bb Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bbm",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": true,
        "mode": "Bb Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Dorian (A# B♯ C♯ D♯ E♯ F♯♯ G♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.370Z"
    },
    {
      "testId": "test-419",
      "description": "Bb Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bbm",
        "Ebm",
        "Bbm"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Dorian (A# B♯ C♯ D♯ E♯ F♯♯ G♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.371Z"
    },
    {
      "testId": "test-420",
      "description": "Bb Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bbm",
        "Eb",
        "Ab",
        "Bbm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Phrygian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.371Z"
    },
    {
      "testId": "test-421",
      "description": "Bb Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bbm",
        "Cb",
        "Ab",
        "Bbm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Bb Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Phrygian (A# B C♯ D♯ E♯ F♯ G♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.371Z"
    },
    {
      "testId": "test-422",
      "description": "Bb Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bbm",
        "Cb",
        "Bbm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Bb Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Phrygian (A# B C♯ D♯ E♯ F♯ G♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.371Z"
    },
    {
      "testId": "test-423",
      "description": "Bb Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bbm7",
        "Cb",
        "Bbm7"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Bb Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Phrygian (A# B C♯ D♯ E♯ F♯ G♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.372Z"
    },
    {
      "testId": "test-424",
      "description": "Bb Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bbm",
        "Cb"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": true,
        "mode": "Bb Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "A# Phrygian (A# B C♯ D♯ E♯ F♯ G♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.372Z"
    },
    {
      "testId": "test-425",
      "description": "Bb Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bbm",
        "C",
        "Bbm"
      ],
      "parentKey": "Gb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Phrygian (A# B C♯ D♯ E♯ F♯ G♯) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.372Z"
    },
    {
      "testId": "test-426",
      "description": "Bb Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bbm",
        "Cb",
        "Ab",
        "Bbm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "A# Mixolydian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.373Z"
    },
    {
      "testId": "test-427",
      "description": "Bb Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "Bb",
        "C",
        "F",
        "Bb"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "Bb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Lydian (A# B♯ C♯♯ D♯♯ E♯ F♯♯ G♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.373Z"
    },
    {
      "testId": "test-428",
      "description": "Bb Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "Bb",
        "C",
        "Bb",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "Bb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "A# Lydian (A# B♯ C♯♯ D♯♯ E♯ F♯♯ G♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.373Z"
    },
    {
      "testId": "test-429",
      "description": "Bb Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "Bb",
        "C",
        "Bb"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "Bb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Lydian (A# B♯ C♯♯ D♯♯ E♯ F♯♯ G♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.373Z"
    },
    {
      "testId": "test-430",
      "description": "Bb Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bbmaj7",
        "C",
        "Bbmaj7"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "Bb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Lydian (A# B♯ C♯♯ D♯♯ E♯ F♯♯ G♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.374Z"
    },
    {
      "testId": "test-431",
      "description": "Bb Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bb",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "Bb Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "A# Lydian (A# B♯ C♯♯ D♯♯ E♯ F♯♯ G♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.374Z"
    },
    {
      "testId": "test-432",
      "description": "Bb Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Bb",
        "F",
        "Bb"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Lydian (A# B♯ C♯♯ D♯♯ E♯ F♯♯ G♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.375Z"
    },
    {
      "testId": "test-433",
      "description": "Bb Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bb",
        "C",
        "F",
        "Bb"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Mixolydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.375Z"
    },
    {
      "testId": "test-434",
      "description": "Bb Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "Bb",
        "Ab",
        "Eb",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Bb Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Mixolydian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.375Z"
    },
    {
      "testId": "test-435",
      "description": "Bb Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "Bb",
        "Ab",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Bb Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Mixolydian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.376Z"
    },
    {
      "testId": "test-436",
      "description": "Bb Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bb7",
        "Eb",
        "Bb7"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Bb Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Mixolydian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.377Z"
    },
    {
      "testId": "test-437",
      "description": "Bb Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bb",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": true,
        "mode": "Bb Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Mixolydian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.377Z"
    },
    {
      "testId": "test-438",
      "description": "Bb Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "Bb",
        "F",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Mixolydian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.378Z"
    },
    {
      "testId": "test-439",
      "description": "Bb Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bb",
        "Ab",
        "Eb",
        "Bb"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Aeolian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.379Z"
    },
    {
      "testId": "test-440",
      "description": "Bb Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bbm",
        "Gb",
        "Ab",
        "Bbm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Bb Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Aeolian (A# B♯ C♯ D♯ E♯ F♯ G♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.379Z"
    },
    {
      "testId": "test-441",
      "description": "Bb Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bbm",
        "Ab",
        "Bbm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Bb Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Aeolian (A# B♯ C♯ D♯ E♯ F♯ G♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.379Z"
    },
    {
      "testId": "test-442",
      "description": "Bb Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bbm7",
        "Gb",
        "Ab",
        "Bbm7"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Bb Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Aeolian (A# B♯ C♯ D♯ E♯ F♯ G♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.380Z"
    },
    {
      "testId": "test-443",
      "description": "Bb Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bbm",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": true,
        "mode": "Bb Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "A# Aeolian (A# B♯ C♯ D♯ E♯ F♯ G♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.380Z"
    },
    {
      "testId": "test-444",
      "description": "Bb Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bbm",
        "F7",
        "Bbm"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Aeolian (A# B♯ C♯ D♯ E♯ F♯ G♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.380Z"
    },
    {
      "testId": "test-445",
      "description": "Bb Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bbm",
        "Gb",
        "Ab",
        "Bbm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Locrian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.380Z"
    },
    {
      "testId": "test-446",
      "description": "Bb Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Bbdim",
        "B",
        "Em",
        "Bbdim"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Bb Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "A# Locrian (A# B C♯ D♯ E F♯ G♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.381Z"
    },
    {
      "testId": "test-447",
      "description": "Bb Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Bbdim",
        "B",
        "Bbdim"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Bb Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Locrian (A# B C♯ D♯ E F♯ G♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.381Z"
    },
    {
      "testId": "test-448",
      "description": "Bb Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bbm7b5",
        "B",
        "Bbm7b5"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Bb Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A# Locrian (A# B C♯ D♯ E F♯ G♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.381Z"
    },
    {
      "testId": "test-449",
      "description": "Bb Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bbdim",
        "B"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "Bb Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "A# Locrian (A# B C♯ D♯ E F♯ G♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.381Z"
    },
    {
      "testId": "test-450",
      "description": "Bb Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Bbdim",
        "F7",
        "Bbdim"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Locrian (A# B C♯ D♯ E F♯ G♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.382Z"
    },
    {
      "testId": "test-451",
      "description": "Bb Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bbdim",
        "B",
        "Em",
        "Bbdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "Bb Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "A# Lydian (A# B♯ C♯♯ D♯♯ E♯ F♯♯ G♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.382Z"
    },
    {
      "testId": "test-452",
      "description": "B Ionian I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "B",
        "E",
        "B"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "B Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Ionian (B C♯ D♯ E F♯ G♯ A♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.382Z"
    },
    {
      "testId": "test-453",
      "description": "B Ionian Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bmaj7",
        "Emaj7",
        "Bmaj7"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "B Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Ionian (B C♯ D♯ E F♯ G♯ A♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.383Z"
    },
    {
      "testId": "test-454",
      "description": "B Ionian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "B",
        "E"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": true,
        "mode": "B Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Ionian (B C♯ D♯ E F♯ G♯ A♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.383Z"
    },
    {
      "testId": "test-455",
      "description": "B Ionian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "B",
        "F#",
        "B"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Ionian (B C♯ D♯ E F♯ G♯ A♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.384Z"
    },
    {
      "testId": "test-456",
      "description": "B Dorian i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "E",
        "A",
        "Bm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "B Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.384Z"
    },
    {
      "testId": "test-457",
      "description": "B Dorian i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "E",
        "Bm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "B Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.384Z"
    },
    {
      "testId": "test-458",
      "description": "B Dorian i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bm7",
        "Emaj7",
        "Bm7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "B Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.385Z"
    },
    {
      "testId": "test-459",
      "description": "B Dorian i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bm",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "B Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.385Z"
    },
    {
      "testId": "test-460",
      "description": "B Dorian i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bm",
        "Em",
        "Bm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.385Z"
    },
    {
      "testId": "test-461",
      "description": "B Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bm",
        "E",
        "A",
        "Bm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.386Z"
    },
    {
      "testId": "test-462",
      "description": "B Phrygian i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "C",
        "A",
        "Bm"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "B Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.386Z"
    },
    {
      "testId": "test-463",
      "description": "B Phrygian i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "C",
        "Bm"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "B Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.386Z"
    },
    {
      "testId": "test-464",
      "description": "B Phrygian i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bm7",
        "C",
        "Bm7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "B Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.386Z"
    },
    {
      "testId": "test-465",
      "description": "B Phrygian i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bm",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "B Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.387Z"
    },
    {
      "testId": "test-466",
      "description": "B Phrygian i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bm",
        "C#",
        "Bm"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.387Z"
    },
    {
      "testId": "test-467",
      "description": "B Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bm",
        "C",
        "A",
        "Bm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.387Z"
    },
    {
      "testId": "test-468",
      "description": "B Lydian I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "B",
        "C#",
        "F#",
        "B"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": true,
        "mode": "B Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Lydian (B C♯ D♯ E♯ F♯ G♯ A♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.388Z"
    },
    {
      "testId": "test-469",
      "description": "B Lydian I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "B",
        "C#",
        "B",
        "C#"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": true,
        "mode": "B Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "B Lydian (B C♯ D♯ E♯ F♯ G♯ A♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.388Z"
    },
    {
      "testId": "test-470",
      "description": "B Lydian I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "B",
        "C#",
        "B"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": true,
        "mode": "B Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Lydian (B C♯ D♯ E♯ F♯ G♯ A♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.389Z"
    },
    {
      "testId": "test-471",
      "description": "B Lydian Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bmaj7",
        "C#",
        "Bmaj7"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": true,
        "mode": "B Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Lydian (B C♯ D♯ E♯ F♯ G♯ A♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.389Z"
    },
    {
      "testId": "test-472",
      "description": "B Lydian I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "B",
        "C#"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": true,
        "mode": "B Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "B Lydian (B C♯ D♯ E♯ F♯ G♯ A♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.389Z"
    },
    {
      "testId": "test-473",
      "description": "B Lydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "B",
        "F#",
        "B"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Lydian (B C♯ D♯ E♯ F♯ G♯ A♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.390Z"
    },
    {
      "testId": "test-474",
      "description": "B Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "B",
        "C#",
        "F#",
        "B"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.390Z"
    },
    {
      "testId": "test-475",
      "description": "B Mixolydian I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "B",
        "A",
        "E",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "B Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.390Z"
    },
    {
      "testId": "test-476",
      "description": "B Mixolydian I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "B",
        "A",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "B Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.391Z"
    },
    {
      "testId": "test-477",
      "description": "B Mixolydian I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "B7",
        "E",
        "B7"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "B Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.391Z"
    },
    {
      "testId": "test-478",
      "description": "B Mixolydian I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "B",
        "E"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": true,
        "mode": "B Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.391Z"
    },
    {
      "testId": "test-479",
      "description": "B Mixolydian I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "B",
        "F#",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.391Z"
    },
    {
      "testId": "test-480",
      "description": "B Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "B",
        "A",
        "E",
        "B"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.392Z"
    },
    {
      "testId": "test-481",
      "description": "B Aeolian i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "G",
        "A",
        "Bm"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "B Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.392Z"
    },
    {
      "testId": "test-482",
      "description": "B Aeolian i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "A",
        "Bm"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "B Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.392Z"
    },
    {
      "testId": "test-483",
      "description": "B Aeolian i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bm7",
        "G",
        "A",
        "Bm7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "B Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.393Z"
    },
    {
      "testId": "test-484",
      "description": "B Aeolian i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bm",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "B Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.393Z"
    },
    {
      "testId": "test-485",
      "description": "B Aeolian i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bm",
        "F#7",
        "Bm"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.394Z"
    },
    {
      "testId": "test-486",
      "description": "B Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bm",
        "G",
        "A",
        "Bm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.395Z"
    },
    {
      "testId": "test-487",
      "description": "B Locrian i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Bdim",
        "C",
        "Fm",
        "Bdim"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "B Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.395Z"
    },
    {
      "testId": "test-488",
      "description": "B Locrian i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Bdim",
        "C",
        "Bdim"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "B Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.395Z"
    },
    {
      "testId": "test-489",
      "description": "B Locrian iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bm7b5",
        "C",
        "Bm7b5"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "B Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.396Z"
    },
    {
      "testId": "test-490",
      "description": "B Locrian i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bdim",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "B Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.396Z"
    },
    {
      "testId": "test-491",
      "description": "B Locrian i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Bdim",
        "F#7",
        "Bdim"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.396Z"
    },
    {
      "testId": "test-492",
      "description": "B Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bdim",
        "C",
        "Fm",
        "Bdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Harmonic Major",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.396Z"
    },
    {
      "testId": "test-493",
      "description": "C major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "C",
        "F",
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.398Z"
    },
    {
      "testId": "test-494",
      "description": "C major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "C",
        "A",
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.398Z"
    },
    {
      "testId": "test-495",
      "description": "C major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "A",
        "F",
        "C",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.399Z"
    },
    {
      "testId": "test-496",
      "description": "C major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "D",
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.399Z"
    },
    {
      "testId": "test-497",
      "description": "C major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "C",
        "G",
        "A",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.399Z"
    },
    {
      "testId": "test-498",
      "description": "Db major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "Db",
        "Gb",
        "Ab",
        "Db"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Ionian (C# D♯ E♯ F♯ G♯ A♯ B♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.400Z"
    },
    {
      "testId": "test-499",
      "description": "Db major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "Db",
        "Bb",
        "Gb",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Ionian (C# D♯ E♯ F♯ G♯ A♯ B♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.400Z"
    },
    {
      "testId": "test-500",
      "description": "Db major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "Bb",
        "Gb",
        "Db",
        "Ab"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Aeolian (A# B♯ C♯ D♯ E♯ F♯ G♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.401Z"
    },
    {
      "testId": "test-501",
      "description": "Db major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "Eb",
        "Ab",
        "Db"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Dorian (D# E♯ F♯ G♯ A♯ B♯ C♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.402Z"
    },
    {
      "testId": "test-502",
      "description": "Db major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "Db",
        "Ab",
        "Bb",
        "Gb"
      ],
      "parentKey": "Db major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Ionian (C# D♯ E♯ F♯ G♯ A♯ B♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.404Z"
    },
    {
      "testId": "test-503",
      "description": "D major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "D",
        "G",
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.404Z"
    },
    {
      "testId": "test-504",
      "description": "D major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "D",
        "B",
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.404Z"
    },
    {
      "testId": "test-505",
      "description": "D major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "B",
        "G",
        "D",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.405Z"
    },
    {
      "testId": "test-506",
      "description": "D major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "E",
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.406Z"
    },
    {
      "testId": "test-507",
      "description": "D major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "D",
        "A",
        "B",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.406Z"
    },
    {
      "testId": "test-508",
      "description": "Eb major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "Eb",
        "Ab",
        "Bb",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Ionian (D# E♯ F♯♯ G♯ A♯ B♯ C♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.406Z"
    },
    {
      "testId": "test-509",
      "description": "Eb major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "Eb",
        "C",
        "Ab",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Ionian (D# E♯ F♯♯ G♯ A♯ B♯ C♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.407Z"
    },
    {
      "testId": "test-510",
      "description": "Eb major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "C",
        "Ab",
        "Eb",
        "Bb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Aeolian (C D E♭ F G A♭ B♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.407Z"
    },
    {
      "testId": "test-511",
      "description": "Eb major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "F",
        "Bb",
        "Eb"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Dorian (F G A♭ B♭ C D E♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.407Z"
    },
    {
      "testId": "test-512",
      "description": "Eb major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "Eb",
        "Bb",
        "C",
        "Ab"
      ],
      "parentKey": "Eb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Ionian (D# E♯ F♯♯ G♯ A♯ B♯ C♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.407Z"
    },
    {
      "testId": "test-513",
      "description": "E major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "E",
        "A",
        "B",
        "E"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Ionian (E F♯ G♯ A B C♯ D♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.408Z"
    },
    {
      "testId": "test-514",
      "description": "E major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "E",
        "C#",
        "A",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Ionian (E F♯ G♯ A B C♯ D♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.409Z"
    },
    {
      "testId": "test-515",
      "description": "E major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "C#",
        "A",
        "E",
        "B"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Aeolian (C# D♯ E F♯ G♯ A B) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.410Z"
    },
    {
      "testId": "test-516",
      "description": "E major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "F#",
        "B",
        "E"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Dorian (F# G♯ A B C♯ D♯ E) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.410Z"
    },
    {
      "testId": "test-517",
      "description": "E major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "E",
        "B",
        "C#",
        "A"
      ],
      "parentKey": "E major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Ionian (E F♯ G♯ A B C♯ D♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.410Z"
    },
    {
      "testId": "test-518",
      "description": "F major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "F",
        "Bb",
        "C",
        "F"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Ionian (F G A B♭ C D E) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.410Z"
    },
    {
      "testId": "test-519",
      "description": "F major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "F",
        "D",
        "Bb",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Ionian (F G A B♭ C D E) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.411Z"
    },
    {
      "testId": "test-520",
      "description": "F major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "D",
        "Bb",
        "F",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Aeolian (D E F G A B♭ C) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.411Z"
    },
    {
      "testId": "test-521",
      "description": "F major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "G",
        "C",
        "F"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Dorian (G A B♭ C D E F) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.411Z"
    },
    {
      "testId": "test-522",
      "description": "F major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "F",
        "C",
        "D",
        "Bb"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Ionian (F G A B♭ C D E) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.412Z"
    },
    {
      "testId": "test-523",
      "description": "F# major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "F#",
        "B",
        "C#",
        "F#"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Ionian (F# G♯ A♯ B C♯ D♯ E♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.412Z"
    },
    {
      "testId": "test-524",
      "description": "F# major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "F#",
        "D#",
        "B",
        "C#"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Ionian (F# G♯ A♯ B C♯ D♯ E♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.412Z"
    },
    {
      "testId": "test-525",
      "description": "F# major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "D#",
        "B",
        "F#",
        "C#"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D# Aeolian (D# E♯ F♯ G♯ A♯ B C♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.412Z"
    },
    {
      "testId": "test-526",
      "description": "F# major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "G#",
        "C#",
        "F#"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Dorian (G# A♯ B C♯ D♯ E♯ F♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.412Z"
    },
    {
      "testId": "test-527",
      "description": "F# major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "F#",
        "C#",
        "D#",
        "B"
      ],
      "parentKey": "F# major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Ionian (F# G♯ A♯ B C♯ D♯ E♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.413Z"
    },
    {
      "testId": "test-528",
      "description": "G major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "G",
        "C",
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.413Z"
    },
    {
      "testId": "test-529",
      "description": "G major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "G",
        "E",
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.413Z"
    },
    {
      "testId": "test-530",
      "description": "G major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "E",
        "C",
        "G",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.413Z"
    },
    {
      "testId": "test-531",
      "description": "G major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "A",
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.414Z"
    },
    {
      "testId": "test-532",
      "description": "G major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "G",
        "D",
        "E",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.414Z"
    },
    {
      "testId": "test-533",
      "description": "Ab major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "Ab",
        "Db",
        "Eb",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Ionian (G# A♯ B♯ C♯ D♯ E♯ F♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.414Z"
    },
    {
      "testId": "test-534",
      "description": "Ab major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "Ab",
        "F",
        "Db",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Ionian (G# A♯ B♯ C♯ D♯ E♯ F♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.414Z"
    },
    {
      "testId": "test-535",
      "description": "Ab major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "F",
        "Db",
        "Ab",
        "Eb"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Aeolian (F G A♭ B♭ C D♭ E♭) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.414Z"
    },
    {
      "testId": "test-536",
      "description": "Ab major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "Bb",
        "Eb",
        "Ab"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Dorian (A# B♯ C♯ D♯ E♯ F♯♯ G♯) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.416Z"
    },
    {
      "testId": "test-537",
      "description": "Ab major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "Ab",
        "Eb",
        "F",
        "Db"
      ],
      "parentKey": "Ab major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Ionian (G# A♯ B♯ C♯ D♯ E♯ F♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.416Z"
    },
    {
      "testId": "test-538",
      "description": "A major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "A",
        "D",
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.416Z"
    },
    {
      "testId": "test-539",
      "description": "A major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "A",
        "F#",
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.416Z"
    },
    {
      "testId": "test-540",
      "description": "A major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "F#",
        "D",
        "A",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.417Z"
    },
    {
      "testId": "test-541",
      "description": "A major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "B",
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.417Z"
    },
    {
      "testId": "test-542",
      "description": "A major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "A",
        "E",
        "F#",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.417Z"
    },
    {
      "testId": "test-543",
      "description": "Bb major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "Bb",
        "Eb",
        "F",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Ionian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.418Z"
    },
    {
      "testId": "test-544",
      "description": "Bb major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "Bb",
        "G",
        "Eb",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Ionian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.418Z"
    },
    {
      "testId": "test-545",
      "description": "Bb major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "G",
        "Eb",
        "Bb",
        "F"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Aeolian (G A B♭ C D E♭ F) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.418Z"
    },
    {
      "testId": "test-546",
      "description": "Bb major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "C",
        "F",
        "Bb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Dorian (C D E♭ F G A B♭) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.418Z"
    },
    {
      "testId": "test-547",
      "description": "Bb major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "Bb",
        "F",
        "G",
        "Eb"
      ],
      "parentKey": "Bb major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A# Ionian (A# B♯ C♯♯ D♯ E♯ F♯♯ G♯♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.419Z"
    },
    {
      "testId": "test-548",
      "description": "B major I-IV-V-I functional",
      "category": "functional_clear",
      "chords": [
        "B",
        "E",
        "F#",
        "B"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Ionian (B C♯ D♯ E F♯ G♯ A♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.419Z"
    },
    {
      "testId": "test-549",
      "description": "B major I-vi-IV-V functional",
      "category": "functional_clear",
      "chords": [
        "B",
        "G#",
        "E",
        "F#"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Ionian (B C♯ D♯ E F♯ G♯ A♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.419Z"
    },
    {
      "testId": "test-550",
      "description": "B major vi-IV-I-V functional",
      "category": "functional_clear",
      "chords": [
        "G#",
        "E",
        "B",
        "F#"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Aeolian (G# A♯ B C♯ D♯ E F♯) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.419Z"
    },
    {
      "testId": "test-551",
      "description": "B major ii-V-I functional",
      "category": "functional_clear",
      "chords": [
        "C#",
        "F#",
        "B"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Dorian (C# D♯ E F♯ G♯ A♯ B) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.420Z"
    },
    {
      "testId": "test-552",
      "description": "B major I-V-vi-IV functional",
      "category": "functional_clear",
      "chords": [
        "B",
        "F#",
        "G#",
        "E"
      ],
      "parentKey": "B major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Ionian (B C♯ D♯ E F♯ G♯ A♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.420Z"
    },
    {
      "testId": "test-553",
      "description": "Ambiguous: Could be C major functional or C Ionian modal",
      "category": "ambiguous",
      "chords": [
        "C",
        "F",
        "G",
        "C"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.420Z"
    },
    {
      "testId": "test-554",
      "description": "Ambiguous: Could be A Aeolian or vi-IV-I-V in C",
      "category": "ambiguous",
      "chords": [
        "Am",
        "F",
        "C",
        "G"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.420Z"
    },
    {
      "testId": "test-555",
      "description": "Ambiguous: Could be D major or D Mixolydian in G",
      "category": "ambiguous",
      "chords": [
        "D",
        "G",
        "A",
        "D"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.421Z"
    },
    {
      "testId": "test-556",
      "description": "C Mixolydian with parent key context",
      "category": "ambiguous",
      "chords": [
        "C",
        "A#",
        "F",
        "C"
      ],
      "parentKey": "F major",
      "expected": {
        "modal": true,
        "mode": "C Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Mixolydian (C D E F G A B♭) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.423Z"
    },
    {
      "testId": "test-557",
      "description": "G Mixolydian with parent key context",
      "category": "ambiguous",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.424Z"
    },
    {
      "testId": "test-558",
      "description": "D Mixolydian with parent key context",
      "category": "ambiguous",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.425Z"
    },
    {
      "testId": "test-559",
      "description": "A Mixolydian with parent key context",
      "category": "ambiguous",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.425Z"
    },
    {
      "testId": "test-560",
      "description": "Edge case: Single chord",
      "category": "edge_case",
      "chords": [
        "C"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.426Z"
    },
    {
      "testId": "test-561",
      "description": "Edge case: Repeated chord",
      "category": "edge_case",
      "chords": [
        "G",
        "G",
        "G"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.426Z"
    },
    {
      "testId": "test-562",
      "description": "Edge case: Chromatic progression",
      "category": "edge_case",
      "chords": [
        "C",
        "C#",
        "D"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 0.6666666666666666
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.426Z"
    },
    {
      "testId": "test-563",
      "description": "Edge case: Enharmonic equivalents",
      "category": "edge_case",
      "chords": [
        "F#",
        "Gb"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Ionian (F# G♯ A♯ B C♯ D♯ E♯) - 1 2 3 4 5 6 7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.426Z"
    },
    {
      "testId": "test-564",
      "description": "Edge case: Wide interval jumps",
      "category": "edge_case",
      "chords": [
        "C",
        "F#",
        "B",
        "E"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Phrygian",
          "confidence": 0.6666666666666666
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.426Z"
    },
    {
      "testId": "test-565",
      "description": "C Ionian in C major context — I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "F",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "C Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.427Z"
    },
    {
      "testId": "test-566",
      "description": "C Ionian in C major context — Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Cmaj7",
        "Fmaj7",
        "Cmaj7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "C Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.427Z"
    },
    {
      "testId": "test-567",
      "description": "C Ionian in C major context — I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "C Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.427Z"
    },
    {
      "testId": "test-568",
      "description": "C Ionian in C major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Ionian (C D E F G A B) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.427Z"
    },
    {
      "testId": "test-569",
      "description": "D Dorian in C major context — i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Dm",
        "G",
        "C",
        "Dm"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "D Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.427Z"
    },
    {
      "testId": "test-570",
      "description": "D Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Dm",
        "G",
        "C",
        "Dm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.428Z"
    },
    {
      "testId": "test-571",
      "description": "D Dorian in C major context — i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Dm",
        "G",
        "Dm"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "D Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.428Z"
    },
    {
      "testId": "test-572",
      "description": "D Dorian in C major context — i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dm7",
        "Gmaj7",
        "Dm7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "D Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.429Z"
    },
    {
      "testId": "test-573",
      "description": "D Dorian in C major context — i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Dm",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "D Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.429Z"
    },
    {
      "testId": "test-574",
      "description": "D Dorian in C major context — i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Dm",
        "Gm",
        "Dm"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.430Z"
    },
    {
      "testId": "test-575",
      "description": "E Phrygian in C major context — i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "F",
        "D",
        "Em"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "E Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.430Z"
    },
    {
      "testId": "test-576",
      "description": "E Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Em",
        "F",
        "D",
        "Em"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.430Z"
    },
    {
      "testId": "test-577",
      "description": "E Phrygian in C major context — i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "F",
        "Em"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "E Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.430Z"
    },
    {
      "testId": "test-578",
      "description": "E Phrygian in C major context — i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Em7",
        "F",
        "Em7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "E Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.431Z"
    },
    {
      "testId": "test-579",
      "description": "E Phrygian in C major context — i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Em",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "E Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.431Z"
    },
    {
      "testId": "test-580",
      "description": "E Phrygian in C major context — i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Em",
        "F#",
        "Em"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Phrygian (E F G A B C D) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.431Z"
    },
    {
      "testId": "test-581",
      "description": "F Lydian in C major context — I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "G",
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.432Z"
    },
    {
      "testId": "test-582",
      "description": "F Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F",
        "G",
        "C",
        "F"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.432Z"
    },
    {
      "testId": "test-583",
      "description": "F Lydian in C major context — I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "G",
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.432Z"
    },
    {
      "testId": "test-584",
      "description": "F Lydian in C major context — I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "F",
        "G",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.432Z"
    },
    {
      "testId": "test-585",
      "description": "F Lydian in C major context — Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Fmaj7",
        "G",
        "Fmaj7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.432Z"
    },
    {
      "testId": "test-586",
      "description": "F Lydian in C major context — I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "F Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.433Z"
    },
    {
      "testId": "test-587",
      "description": "F Lydian in C major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "F",
        "C",
        "F"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F Lydian (F G A B C D E) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.433Z"
    },
    {
      "testId": "test-588",
      "description": "G Mixolydian in C major context — I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.434Z"
    },
    {
      "testId": "test-589",
      "description": "G Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "G",
        "F",
        "C",
        "G"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.434Z"
    },
    {
      "testId": "test-590",
      "description": "G Mixolydian in C major context — I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "F",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.434Z"
    },
    {
      "testId": "test-591",
      "description": "G Mixolydian in C major context — I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "G7",
        "C",
        "G7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.435Z"
    },
    {
      "testId": "test-592",
      "description": "G Mixolydian in C major context — I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "G",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "G Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.435Z"
    },
    {
      "testId": "test-593",
      "description": "G Mixolydian in C major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Mixolydian (G A B C D E F) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.435Z"
    },
    {
      "testId": "test-594",
      "description": "A Aeolian in C major context — i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "F",
        "G",
        "Am"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "A Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.435Z"
    },
    {
      "testId": "test-595",
      "description": "A Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Am",
        "F",
        "G",
        "Am"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Ionian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.436Z"
    },
    {
      "testId": "test-596",
      "description": "A Aeolian in C major context — i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "G",
        "Am"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "A Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.436Z"
    },
    {
      "testId": "test-597",
      "description": "A Aeolian in C major context — i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Am7",
        "F",
        "G",
        "Am7"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "A Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.436Z"
    },
    {
      "testId": "test-598",
      "description": "A Aeolian in C major context — i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Am",
        "G"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "A Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.436Z"
    },
    {
      "testId": "test-599",
      "description": "A Aeolian in C major context — i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Am",
        "E7",
        "Am"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Aeolian (A B C D E F G) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.436Z"
    },
    {
      "testId": "test-600",
      "description": "B Locrian in C major context — i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "Bdim",
        "C",
        "Fm",
        "Bdim"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "B Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.437Z"
    },
    {
      "testId": "test-601",
      "description": "B Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bdim",
        "C",
        "Fm",
        "Bdim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Harmonic Major",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.437Z"
    },
    {
      "testId": "test-602",
      "description": "B Locrian in C major context — i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "Bdim",
        "C",
        "Bdim"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "B Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.438Z"
    },
    {
      "testId": "test-603",
      "description": "B Locrian in C major context — iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bm7b5",
        "C",
        "Bm7b5"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "B Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.438Z"
    },
    {
      "testId": "test-604",
      "description": "B Locrian in C major context — i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bdim",
        "C"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": true,
        "mode": "B Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.439Z"
    },
    {
      "testId": "test-605",
      "description": "B Locrian in C major context — i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "Bdim",
        "F#7",
        "Bdim"
      ],
      "parentKey": "C major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Locrian (B C D E F G A) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.439Z"
    },
    {
      "testId": "test-606",
      "description": "G Ionian in G major context — I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "C",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "G Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.440Z"
    },
    {
      "testId": "test-607",
      "description": "G Ionian in G major context — Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Gmaj7",
        "Cmaj7",
        "Gmaj7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "G Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.440Z"
    },
    {
      "testId": "test-608",
      "description": "G Ionian in G major context — I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "G Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.440Z"
    },
    {
      "testId": "test-609",
      "description": "G Ionian in G major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Ionian (G A B C D E F♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.441Z"
    },
    {
      "testId": "test-610",
      "description": "A Dorian in G major context — i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "D",
        "G",
        "Am"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "A Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.441Z"
    },
    {
      "testId": "test-611",
      "description": "A Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Am",
        "D",
        "G",
        "Am"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.441Z"
    },
    {
      "testId": "test-612",
      "description": "A Dorian in G major context — i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Am",
        "D",
        "Am"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "A Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.442Z"
    },
    {
      "testId": "test-613",
      "description": "A Dorian in G major context — i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Am7",
        "Dmaj7",
        "Am7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "A Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.442Z"
    },
    {
      "testId": "test-614",
      "description": "A Dorian in G major context — i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Am",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "A Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.444Z"
    },
    {
      "testId": "test-615",
      "description": "A Dorian in G major context — i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Am",
        "Dm",
        "Am"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Dorian (A B C D E F♯ G) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.444Z"
    },
    {
      "testId": "test-616",
      "description": "B Phrygian in G major context — i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "C",
        "A",
        "Bm"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "B Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.445Z"
    },
    {
      "testId": "test-617",
      "description": "B Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bm",
        "C",
        "A",
        "Bm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian",
          "confidence": 0.875
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.445Z"
    },
    {
      "testId": "test-618",
      "description": "B Phrygian in G major context — i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "C",
        "Bm"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "B Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.445Z"
    },
    {
      "testId": "test-619",
      "description": "B Phrygian in G major context — i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bm7",
        "C",
        "Bm7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "B Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.446Z"
    },
    {
      "testId": "test-620",
      "description": "B Phrygian in G major context — i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bm",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "B Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.446Z"
    },
    {
      "testId": "test-621",
      "description": "B Phrygian in G major context — i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bm",
        "C#",
        "Bm"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Phrygian (B C D E F♯ G A) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.446Z"
    },
    {
      "testId": "test-622",
      "description": "C Lydian in G major context — I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "D",
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.446Z"
    },
    {
      "testId": "test-623",
      "description": "C Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "C",
        "D",
        "G",
        "C"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.447Z"
    },
    {
      "testId": "test-624",
      "description": "C Lydian in G major context — I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "D",
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.447Z"
    },
    {
      "testId": "test-625",
      "description": "C Lydian in G major context — I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "C",
        "D",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.447Z"
    },
    {
      "testId": "test-626",
      "description": "C Lydian in G major context — Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Cmaj7",
        "D",
        "Cmaj7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.447Z"
    },
    {
      "testId": "test-627",
      "description": "C Lydian in G major context — I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "C Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.447Z"
    },
    {
      "testId": "test-628",
      "description": "C Lydian in G major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "C",
        "G",
        "C"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C Lydian (C D E F♯ G A B) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.448Z"
    },
    {
      "testId": "test-629",
      "description": "D Mixolydian in G major context — I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.448Z"
    },
    {
      "testId": "test-630",
      "description": "D Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "D",
        "C",
        "G",
        "D"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.448Z"
    },
    {
      "testId": "test-631",
      "description": "D Mixolydian in G major context — I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "C",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.448Z"
    },
    {
      "testId": "test-632",
      "description": "D Mixolydian in G major context — I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "D7",
        "G",
        "D7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.449Z"
    },
    {
      "testId": "test-633",
      "description": "D Mixolydian in G major context — I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "D",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "D Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.449Z"
    },
    {
      "testId": "test-634",
      "description": "D Mixolydian in G major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Mixolydian (D E F♯ G A B C) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.449Z"
    },
    {
      "testId": "test-635",
      "description": "E Aeolian in G major context — i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "C",
        "D",
        "Em"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "E Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.449Z"
    },
    {
      "testId": "test-636",
      "description": "E Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Em",
        "C",
        "D",
        "Em"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.449Z"
    },
    {
      "testId": "test-637",
      "description": "E Aeolian in G major context — i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "D",
        "Em"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "E Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.450Z"
    },
    {
      "testId": "test-638",
      "description": "E Aeolian in G major context — i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Em7",
        "C",
        "D",
        "Em7"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "E Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.451Z"
    },
    {
      "testId": "test-639",
      "description": "E Aeolian in G major context — i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Em",
        "D"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "E Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.451Z"
    },
    {
      "testId": "test-640",
      "description": "E Aeolian in G major context — i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Em",
        "B7",
        "Em"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Aeolian (E F♯ G A B C D) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.451Z"
    },
    {
      "testId": "test-641",
      "description": "F# Locrian in G major context — i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "F#dim",
        "G",
        "Cm",
        "F#dim"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "F# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.451Z"
    },
    {
      "testId": "test-642",
      "description": "F# Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#dim",
        "G",
        "Cm",
        "F#dim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C Lydian ♭3",
          "confidence": 1
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.452Z"
    },
    {
      "testId": "test-643",
      "description": "F# Locrian in G major context — i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "F#dim",
        "G",
        "F#dim"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "F# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.452Z"
    },
    {
      "testId": "test-644",
      "description": "F# Locrian in G major context — iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#m7b5",
        "G",
        "F#m7b5"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "F# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.452Z"
    },
    {
      "testId": "test-645",
      "description": "F# Locrian in G major context — i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#dim",
        "G"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": true,
        "mode": "F# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.452Z"
    },
    {
      "testId": "test-646",
      "description": "F# Locrian in G major context — i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "F#dim",
        "C#7",
        "F#dim"
      ],
      "parentKey": "G major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Locrian (F# G A B C D E) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.453Z"
    },
    {
      "testId": "test-647",
      "description": "D Ionian in D major context — I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "G",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "D Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.453Z"
    },
    {
      "testId": "test-648",
      "description": "D Ionian in D major context — Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dmaj7",
        "Gmaj7",
        "Dmaj7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "D Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.453Z"
    },
    {
      "testId": "test-649",
      "description": "D Ionian in D major context — I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "D Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.453Z"
    },
    {
      "testId": "test-650",
      "description": "D Ionian in D major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Ionian (D E F♯ G A B C♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.453Z"
    },
    {
      "testId": "test-651",
      "description": "E Dorian in D major context — i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "A",
        "D",
        "Em"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "E Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.454Z"
    },
    {
      "testId": "test-652",
      "description": "E Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Em",
        "A",
        "D",
        "Em"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.454Z"
    },
    {
      "testId": "test-653",
      "description": "E Dorian in D major context — i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Em",
        "A",
        "Em"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "E Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.454Z"
    },
    {
      "testId": "test-654",
      "description": "E Dorian in D major context — i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Em7",
        "Amaj7",
        "Em7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "E Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.454Z"
    },
    {
      "testId": "test-655",
      "description": "E Dorian in D major context — i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Em",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "E Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.455Z"
    },
    {
      "testId": "test-656",
      "description": "E Dorian in D major context — i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Em",
        "Am",
        "Em"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Dorian (E F♯ G A B C♯ D) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.455Z"
    },
    {
      "testId": "test-657",
      "description": "F# Phrygian in D major context — i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "G",
        "E",
        "F#m"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "F# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.455Z"
    },
    {
      "testId": "test-658",
      "description": "F# Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#m",
        "G",
        "E",
        "F#m"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.455Z"
    },
    {
      "testId": "test-659",
      "description": "F# Phrygian in D major context — i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "G",
        "F#m"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "F# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.456Z"
    },
    {
      "testId": "test-660",
      "description": "F# Phrygian in D major context — i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#m7",
        "G",
        "F#m7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "F# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.456Z"
    },
    {
      "testId": "test-661",
      "description": "F# Phrygian in D major context — i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#m",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "F# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.456Z"
    },
    {
      "testId": "test-662",
      "description": "F# Phrygian in D major context — i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "F#m",
        "G#",
        "F#m"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Phrygian (F# G A B C♯ D E) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.456Z"
    },
    {
      "testId": "test-663",
      "description": "G Lydian in D major context — I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "A",
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.457Z"
    },
    {
      "testId": "test-664",
      "description": "G Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "G",
        "A",
        "D",
        "G"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G Dorian (G A B♭ C D E F) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.457Z"
    },
    {
      "testId": "test-665",
      "description": "G Lydian in D major context — I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "A",
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.457Z"
    },
    {
      "testId": "test-666",
      "description": "G Lydian in D major context — I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "G",
        "A",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.457Z"
    },
    {
      "testId": "test-667",
      "description": "G Lydian in D major context — Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Gmaj7",
        "A",
        "Gmaj7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.458Z"
    },
    {
      "testId": "test-668",
      "description": "G Lydian in D major context — I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "G Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.458Z"
    },
    {
      "testId": "test-669",
      "description": "G Lydian in D major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "G",
        "D",
        "G"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G Lydian (G A B C♯ D E F♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.458Z"
    },
    {
      "testId": "test-670",
      "description": "A Mixolydian in D major context — I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.458Z"
    },
    {
      "testId": "test-671",
      "description": "A Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "A",
        "G",
        "D",
        "A"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.459Z"
    },
    {
      "testId": "test-672",
      "description": "A Mixolydian in D major context — I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "G",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.460Z"
    },
    {
      "testId": "test-673",
      "description": "A Mixolydian in D major context — I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "A7",
        "D",
        "A7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.460Z"
    },
    {
      "testId": "test-674",
      "description": "A Mixolydian in D major context — I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "A",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "A Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.460Z"
    },
    {
      "testId": "test-675",
      "description": "A Mixolydian in D major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Mixolydian (A B C♯ D E F♯ G) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.460Z"
    },
    {
      "testId": "test-676",
      "description": "B Aeolian in D major context — i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "G",
        "A",
        "Bm"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "B Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.461Z"
    },
    {
      "testId": "test-677",
      "description": "B Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bm",
        "G",
        "A",
        "Bm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.461Z"
    },
    {
      "testId": "test-678",
      "description": "B Aeolian in D major context — i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "A",
        "Bm"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "B Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.461Z"
    },
    {
      "testId": "test-679",
      "description": "B Aeolian in D major context — i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bm7",
        "G",
        "A",
        "Bm7"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "B Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.462Z"
    },
    {
      "testId": "test-680",
      "description": "B Aeolian in D major context — i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bm",
        "A"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "B Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.462Z"
    },
    {
      "testId": "test-681",
      "description": "B Aeolian in D major context — i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bm",
        "F#7",
        "Bm"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Aeolian (B C♯ D E F♯ G A) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.462Z"
    },
    {
      "testId": "test-682",
      "description": "C# Locrian in D major context — i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "C#dim",
        "D",
        "Gm",
        "C#dim"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "C# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.462Z"
    },
    {
      "testId": "test-683",
      "description": "C# Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "C#dim",
        "D",
        "Gm",
        "C#dim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C# Lydian (C# D♯ E♯ F♯♯ G♯ A♯ B♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.463Z"
    },
    {
      "testId": "test-684",
      "description": "C# Locrian in D major context — i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "C#dim",
        "D",
        "C#dim"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "C# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.463Z"
    },
    {
      "testId": "test-685",
      "description": "C# Locrian in D major context — iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "C#m7b5",
        "D",
        "C#m7b5"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "C# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.463Z"
    },
    {
      "testId": "test-686",
      "description": "C# Locrian in D major context — i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "C#dim",
        "D"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": true,
        "mode": "C# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.463Z"
    },
    {
      "testId": "test-687",
      "description": "C# Locrian in D major context — i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "C#dim",
        "G#7",
        "C#dim"
      ],
      "parentKey": "D major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Locrian (C# D E F♯ G A B) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.463Z"
    },
    {
      "testId": "test-688",
      "description": "A Ionian in A major context — I-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "A",
        "D",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "A Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.464Z"
    },
    {
      "testId": "test-689",
      "description": "A Ionian in A major context — Imaj7-IVmaj7-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Amaj7",
        "Dmaj7",
        "Amaj7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "A Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.464Z"
    },
    {
      "testId": "test-690",
      "description": "A Ionian in A major context — I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "A Ionian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "A Ionian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.464Z"
    },
    {
      "testId": "test-691",
      "description": "A Ionian in A major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "A",
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "A Ionian (A B C♯ D E F♯ G♯) - 1 2 3 4 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.464Z"
    },
    {
      "testId": "test-692",
      "description": "B Dorian in A major context — i-IV-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "E",
        "A",
        "Bm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "B Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.464Z"
    },
    {
      "testId": "test-693",
      "description": "B Dorian i-IV-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "Bm",
        "E",
        "A",
        "Bm"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "B Mixolydian (B C♯ D♯ E F♯ G♯ A) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.465Z"
    },
    {
      "testId": "test-694",
      "description": "B Dorian in A major context — i-IV-i",
      "category": "modal_characteristic",
      "chords": [
        "Bm",
        "E",
        "Bm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "B Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.465Z"
    },
    {
      "testId": "test-695",
      "description": "B Dorian in A major context — i7-IVmaj7-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "Bm7",
        "Emaj7",
        "Bm7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "B Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.465Z"
    },
    {
      "testId": "test-696",
      "description": "B Dorian in A major context — i-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "Bm",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "B Dorian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "B Dorian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.465Z"
    },
    {
      "testId": "test-697",
      "description": "B Dorian in A major context — i-iv-i (foil)",
      "category": "modal_foil",
      "chords": [
        "Bm",
        "Em",
        "Bm"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "B Dorian (B C♯ D E F♯ G♯ A) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.466Z"
    },
    {
      "testId": "test-698",
      "description": "C# Phrygian in A major context — i-bII-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "C#m",
        "D",
        "B",
        "C#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "C# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.466Z"
    },
    {
      "testId": "test-699",
      "description": "C# Phrygian i-bII-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "C#m",
        "D",
        "B",
        "C#m"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Phrygian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "C# Mixolydian (C# D♯ E♯ F♯ G♯ A♯ B) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.466Z"
    },
    {
      "testId": "test-700",
      "description": "C# Phrygian in A major context — i-bII-i",
      "category": "modal_characteristic",
      "chords": [
        "C#m",
        "D",
        "C#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "C# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.466Z"
    },
    {
      "testId": "test-701",
      "description": "C# Phrygian in A major context — i7-bII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "C#m7",
        "D",
        "C#m7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "C# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Phrygian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.467Z"
    },
    {
      "testId": "test-702",
      "description": "C# Phrygian in A major context — i-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "C#m",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "C# Phrygian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "C# Phrygian",
          "confidence": 0.9166666666666666
        },
        "local": {
          "modal": true,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.467Z"
    },
    {
      "testId": "test-703",
      "description": "C# Phrygian in A major context — i-II-i (foil)",
      "category": "modal_foil",
      "chords": [
        "C#m",
        "D#",
        "C#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "C# Phrygian (C# D E F♯ G♯ A B) - 1 ♭2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.467Z"
    },
    {
      "testId": "test-704",
      "description": "D Lydian in A major context — I-II-V-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "E",
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.467Z"
    },
    {
      "testId": "test-705",
      "description": "D Lydian I-II-V-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "D",
        "E",
        "A",
        "D"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "D Dorian (D E F G A B C) - 1 2 ♭3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.469Z"
    },
    {
      "testId": "test-706",
      "description": "D Lydian in A major context — I-II-I-II",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "E",
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.87
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.469Z"
    },
    {
      "testId": "test-707",
      "description": "D Lydian in A major context — I-II-I",
      "category": "modal_characteristic",
      "chords": [
        "D",
        "E",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.469Z"
    },
    {
      "testId": "test-708",
      "description": "D Lydian in A major context — Imaj7-II-Imaj7",
      "category": "modal_seventh_variant",
      "chords": [
        "Dmaj7",
        "E",
        "Dmaj7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.470Z"
    },
    {
      "testId": "test-709",
      "description": "D Lydian in A major context — I-II (vamp)",
      "category": "modal_vamp",
      "chords": [
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "D Lydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "D Lydian",
          "confidence": 0.8999999999999999
        },
        "local": {
          "modal": true,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.470Z"
    },
    {
      "testId": "test-710",
      "description": "D Lydian in A major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "D",
        "A",
        "D"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "D Lydian (D E F♯ G♯ A B C♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.471Z"
    },
    {
      "testId": "test-711",
      "description": "E Mixolydian in A major context — I-bVII-IV-I",
      "category": "modal_characteristic",
      "chords": [
        "E",
        "D",
        "A",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "E Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.471Z"
    },
    {
      "testId": "test-712",
      "description": "E Mixolydian I-bVII-IV-I (no parent key)",
      "category": "ambiguous",
      "chords": [
        "E",
        "D",
        "A",
        "E"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.472Z"
    },
    {
      "testId": "test-713",
      "description": "E Mixolydian in A major context — I-bVII-I",
      "category": "modal_characteristic",
      "chords": [
        "E",
        "D",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "E Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.472Z"
    },
    {
      "testId": "test-714",
      "description": "E Mixolydian in A major context — I7-IV-I7",
      "category": "modal_seventh_variant",
      "chords": [
        "E7",
        "A",
        "E7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "E Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.472Z"
    },
    {
      "testId": "test-715",
      "description": "E Mixolydian in A major context — I-IV (vamp)",
      "category": "modal_vamp",
      "chords": [
        "E",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "E Mixolydian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "E Mixolydian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.473Z"
    },
    {
      "testId": "test-716",
      "description": "E Mixolydian in A major context — I-V-I (foil)",
      "category": "modal_foil",
      "chords": [
        "E",
        "B",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "E Mixolydian (E F♯ G♯ A B C♯ D) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.473Z"
    },
    {
      "testId": "test-717",
      "description": "F# Aeolian in A major context — i-bVI-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "D",
        "E",
        "F#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "F# Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.473Z"
    },
    {
      "testId": "test-718",
      "description": "F# Aeolian i-bVI-bVII-i (no parent key)",
      "category": "ambiguous",
      "chords": [
        "F#m",
        "D",
        "E",
        "F#m"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "F# Mixolydian (F# G♯ A♯ B C♯ D♯ E) - 1 2 3 4 5 6 ♭7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.473Z"
    },
    {
      "testId": "test-719",
      "description": "F# Aeolian in A major context — i-bVII-i",
      "category": "modal_characteristic",
      "chords": [
        "F#m",
        "E",
        "F#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "F# Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.473Z"
    },
    {
      "testId": "test-720",
      "description": "F# Aeolian in A major context — i7-bVI-bVII-i7",
      "category": "modal_seventh_variant",
      "chords": [
        "F#m7",
        "D",
        "E",
        "F#m7"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "F# Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.474Z"
    },
    {
      "testId": "test-721",
      "description": "F# Aeolian in A major context — i-bVII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "F#m",
        "E"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "F# Aeolian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "F# Aeolian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.474Z"
    },
    {
      "testId": "test-722",
      "description": "F# Aeolian in A major context — i-V7-i (foil)",
      "category": "modal_foil",
      "chords": [
        "F#m",
        "C#7",
        "F#m"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "F# Aeolian (F# G♯ A B C♯ D E) - 1 2 ♭3 4 5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.474Z"
    },
    {
      "testId": "test-723",
      "description": "G# Locrian in A major context — i°-bII-v-i°",
      "category": "modal_characteristic",
      "chords": [
        "G#dim",
        "A",
        "Dm",
        "G#dim"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "G# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G# Locrian",
          "confidence": 0.9
        },
        "local": {
          "modal": true,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.474Z"
    },
    {
      "testId": "test-724",
      "description": "G# Locrian i°-bII-v-i° (no parent key)",
      "category": "ambiguous",
      "chords": [
        "G#dim",
        "A",
        "Dm",
        "G#dim"
      ],
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G# Locrian",
          "confidence": 0.65
        },
        "local": {
          "modal": false,
          "mode": "G# Lydian (G# A♯ B♯ C♯♯ D♯ E♯ F♯♯) - 1 2 3 ♭5 5 6 7",
          "confidence": 0.8
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.475Z"
    },
    {
      "testId": "test-725",
      "description": "G# Locrian in A major context — i°-bII-i°",
      "category": "modal_characteristic",
      "chords": [
        "G#dim",
        "A",
        "G#dim"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "G# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G# Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.475Z"
    },
    {
      "testId": "test-726",
      "description": "G# Locrian in A major context — iø7-bII-iø7",
      "category": "modal_seventh_variant",
      "chords": [
        "G#m7b5",
        "A",
        "G#m7b5"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "G# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G# Locrian",
          "confidence": 0.95
        },
        "local": {
          "modal": true,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.475Z"
    },
    {
      "testId": "test-727",
      "description": "G# Locrian in A major context — i°-bII (vamp)",
      "category": "modal_vamp",
      "chords": [
        "G#dim",
        "A"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": true,
        "mode": "G# Locrian"
      },
      "actual": {
        "enhanced": {
          "modal": true,
          "mode": "G# Locrian",
          "confidence": 0.7499999999999999
        },
        "local": {
          "modal": true,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.95
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.476Z"
    },
    {
      "testId": "test-728",
      "description": "G# Locrian in A major context — i°-V7-i° (foil)",
      "category": "modal_foil",
      "chords": [
        "G#dim",
        "D#7",
        "G#dim"
      ],
      "parentKey": "A major",
      "expected": {
        "modal": false
      },
      "actual": {
        "enhanced": {
          "modal": false,
          "confidence": 0
        },
        "local": {
          "modal": false,
          "mode": "G# Locrian (G# A B C♯ D E F♯) - 1 ♭2 ♭3 4 ♭5 ♭6 ♭7",
          "confidence": 0.9
        }
      },
      "result": "PASS",
      "errors": [],
      "timestamp": "2025-08-10T18:40:10.476Z"
    }
  ],
  "failureAnalysis": {
    "totalFailures": 0,
    "commonErrorPatterns": {},
    "sampleFailures": []
  }
}
